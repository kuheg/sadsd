{"version":3,"sources":["webpack://sakurairo-scripts/webpack/runtime/create fake namespace object","webpack://sakurairo-scripts/webpack/runtime/load script","webpack://sakurairo-scripts/./node_modules/charenc/charenc.js","webpack://sakurairo-scripts/./node_modules/crypt/crypt.js","webpack://sakurairo-scripts/./node_modules/fg-loadcss/src/loadCSS.js","webpack://sakurairo-scripts/./node_modules/is-buffer/index.js","webpack://sakurairo-scripts/./node_modules/md5/md5.js","webpack://sakurairo-scripts/./node_modules/tslib/tslib.es6.js","webpack://sakurairo-scripts/webpack/bootstrap","webpack://sakurairo-scripts/webpack/runtime/compat get default export","webpack://sakurairo-scripts/webpack/runtime/define property getters","webpack://sakurairo-scripts/webpack/runtime/ensure chunk","webpack://sakurairo-scripts/webpack/runtime/get javascript chunk filename","webpack://sakurairo-scripts/webpack/runtime/global","webpack://sakurairo-scripts/webpack/runtime/hasOwnProperty shorthand","webpack://sakurairo-scripts/webpack/runtime/make namespace object","webpack://sakurairo-scripts/webpack/runtime/publicPath","webpack://sakurairo-scripts/webpack/runtime/jsonp chunk loading","webpack://sakurairo-scripts/./node_modules/idb-keyval/dist/esm/index.js","webpack://sakurairo-scripts/./src/entries/sakura-app/cache.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/coverBackground.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/api.ts","webpack://sakurairo-scripts/./src/module/cookie.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/butterbar.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/copyright.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/AddComment.ts","webpack://sakurairo-scripts/./node_modules/lazyload/src/lazyload.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/global-func.js","webpack://sakurairo-scripts/./src/entries/sakura-app/font_control.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/darkmode.ts","webpack://sakurairo-scripts/./src/entries/sakura-app/index.js","webpack://sakurairo-scripts/./src/module/util.ts"],"names":["leafPrototypes","getProto","inProgress","dataWebpackPrefix","charenc","utf8","stringToBytes","str","bin","unescape","encodeURIComponent","bytesToString","bytes","decodeURIComponent","escape","i","length","push","charCodeAt","String","fromCharCode","join","module","exports","base64map","crypt","rotl","n","b","rotr","endian","constructor","Number","randomBytes","Math","floor","random","bytesToWords","words","wordsToBytes","bytesToHex","hex","toString","hexToBytes","c","parseInt","substr","bytesToBase64","base64","triplet","j","charAt","base64ToBytes","replace","imod4","indexOf","pow","w","g","this","loadCSS","href","before","media","attributes","ref","doc","document","ss","createElement","refs","body","getElementsByTagName","childNodes","sheets","styleSheets","attributeName","hasOwnProperty","setAttribute","rel","ready","cb","setTimeout","parentNode","insertBefore","nextSibling","onloadcssdefined","resolvedHref","loadCB","addEventListener","removeEventListener","isBuffer","obj","readFloatLE","slice","isSlowBuffer","_isBuffer","md5","message","options","encoding","Array","prototype","call","isArray","Uint8Array","m","l","a","d","FF","_ff","GG","_gg","HH","_hh","II","_ii","aa","bb","cc","dd","x","s","t","_blocksize","_digestsize","Error","digestbytes","asBytes","asString","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","e","rejected","result","done","then","apply","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","Object","getPrototypeOf","mode","ns","create","r","def","current","getOwnPropertyNames","forEach","key","definition","o","defineProperty","enumerable","get","f","chunkId","all","keys","reduce","promises","u","globalThis","Function","window","prop","url","script","needAttach","scripts","getAttribute","charset","timeout","nc","src","onScriptComplete","prev","event","onerror","onload","clearTimeout","doneFns","removeChild","fn","bind","type","target","head","appendChild","Symbol","toStringTag","scriptUrl","importScripts","location","currentScript","p","installedChunks","143","installedChunkData","promise","error","errorType","realSrc","name","request","webpackJsonpCallback","parentChunkLoadingFunction","data","chunkIds","moreModules","runtime","chunkLoadingGlobal","self","promisifyRequest","oncomplete","onsuccess","onabort","createStore","dbName","storeName","indexedDB","open","onupgradeneeded","createObjectStore","dbp","txMode","callback","db","transaction","objectStore","defaultGetStoreFunc","defaultGetStore","store","customStore","put","delete","bgn","blob_url","centerbg","querySelector","changeCoverBG","mashiro_option","rnd_site_bg","style","backgroundImage","console","warn","getAPIPath","useBGN","cover_api_url","URL","cover_api","clientWidth","random_graphs_mts","searchParams","set","search","cleanBlobUrl","revokeObjectURL","initCoverBG","land_at_home","site_bg_as_cover","background","localStorage","getItem","cache_cover","coverBG","Blob","createObjectURL","resp","fetch","ok","blob","TypeError","fetchAndCache","apiPath","params","nonce","path","entries","Poi","_a","_version_ctrl","cookie_version_control","clearButterbar","butterBar","getElementsByClassName","remove","createButterbar","keep","div","classList","add","createTextNode","txt","author_name","site_name","copytext","selection","getSelection","selectionText","selectionTxt","preventDefault","htmlData","textData","clipboardData","setData","setClipboardText","add_copyright","clipboardCopyright","AddComment","respondId","moveForm","commId","parentId","comm","getElementById","respond","cancel","parent","id","display","temp","_respond","scrollTo","top","getBoundingClientRect","pageYOffset","clientTop","behavior","onclick","focus","defaults","srcset","selector","root","rootMargin","threshold","LazyLoad","images","observer","settings","assign","querySelectorAll","init","IntersectionObserver","loadImages","observerConfig","entry","isIntersecting","unobserve","tagName","toLowerCase","image","observe","destroy","disconnect","lazyload","motionEles","imgError","ele","cmt_showPopup","popup","onblur","coverVideo","video","btn","paused","play","innerHTML","pause","killCoverVideo","mail_me","mail","email_name","email_domain","headertop_down","coverOffset","motionSwitch","grin","tag","after","myField","sel","createRange","text","selectionStart","startPos","endPos","selectionEnd","cursorPos","substring","get_gravatar","email","size","gravatar_url","MD5","btnSerif","btnSansSerif","change_font_listener","dataset","setItem","loadFontSetting","mediaQuery","matchMedia","inDarkMode","informDarkModeChange","nextValue","log","dispatchEvent","CustomEvent","detail","mediaQueryCallback","matches","darkmode","turnOnDarkMode","turnOffDarkMode","saveUserSetting","ifDarkmodeShouldOn","removeItem","userTriggered","documentElement","backgroundColor","checkTime","today","Date","getHours","dm_strategy","pjax","UA","navigator","userAgent","reg","version","match","Firefox","Edg","Chrome","Opera","Version","toDataURL","days","expires","now","toUTCString","cookie","setCookie","default","Pjax","selectors","elements","history","cacheBust","readyState","mashiro_global","variables","has_hls","skinSecter","ini","normalize","post_list_show_animation","copy_code_block","web_audio","coverVideoIni","checkSkinSecter","scrollTop","scrollHeight","innerHeight","cached","width","toc_container","sc","skinMenu","height","min","offsetHeight","offsetTop","load_bangumi","sm","pjaxInit","code_highlight_style","gen_top_bar","pre","code_a","children","ele_name","className","lang","toUpperCase","async","hljs_process","code","hljs","importHighlightjs","highlightBlock","initLineNumbersOnLoad","ec","contains","toggle","PrismBaseUrl","code_highlight_prism","autoload_path","current_prism_css","themeCSS","light","dark","theme","theme_name","loadPrismCSS","darkmodeOn","nextCSS","nextCSSElement","importPrismJS","Prism","plugins","autoloader","languages_path","reason","loadPrismPluginLineNumbers","code_highlight","line_number_all","parentElement","highlightElement","fileHighlight","highlight","prism_process","slideToggle","el","duration","dom","status","getComputedStyle","flag","transition","overflow","tagTimer","tagHeight","clientHeight","io","article","willChange","articles","add_upload_tips","form_submit","comment_upload_img","insertAdjacentHTML","upload_img","files","alert","formData","FormData","xhr","XMLHttpRequest","append","buildAPI","api","send","onreadystatechange","res","JSON","parse","responseText","get_the_url","proxy","attach_image","file_submit","hover","Tip","click_to_view_image","original_emoji_click","innerText","pattern","headertop","no_right_click","pri","nodeName","stopPropagation","changeBG","bgid","bg_url","skin_bg0","skin_bg1","skin_bg2","skin_bg3","skin_bg4","now_bg_url","bgButtonAddListener","timeSeriesReload","archives","al_li","nextElementSibling","al_expand_collapse","cursor","num","textContent","al_post_list","al_post_list_f","al_expand_collapse_click","loadHls","video_src","Hls","isSupported","hls","loadSource","attachMedia","on","Events","MANIFEST_PARSED","canPlayType","catch","ClipboardJS","tableOfContentScroll","heading_fix","entry_content_theme","_els","_el","tocbot","tocSelector","contentSelector","headingSelector","headingsOffset","closeSkinMenu","visibility","tagid","bgurl","checkBgImgCookie","checkDarkModeSetting","changskin","close_SkinMenu","_p","getqqinfo","_div","tla","iconflat","openNav","smileBoxToggle","cm","reply_link_version","data_commentid","addComment","list","confirm","idp","actionp","rateHolderp","ajax_data","setRequestHeader","comt","et","is_get_by_qq","i_author","i_qq","i_email","i_url","qq_check","gravatar_check","user_avatar_img","qzone_autocomplete","emailAddressFlag","qq","test","whileFailed","qq_api_url","json","trim","avatar","emailAddress","URL_Address","user_name","sections","_flag","html","bfan","row","from","stlye","float_player_on","aplayerInit","secondary","show_hide","activate_widget","jsdelivr_css_src","entry_content_style_src","splay","video_btn","bottom","destroyAllAplayer","spause","addsource","video_stu","movies","split","_t","bgvideo","AH","yiyan","windowheight","minHeight","PE","blank","paddingTop","live","oncanplay","livepause","CE","comments_hidden","comments_main","h3","collapseButton","collapseListener","baguetteBoxON","baguetteBox","run","captions","element","alt","ignoreClass","fancybox","jQuery","$","article_attach","overflowY","live_search","QueryStorage","val","sessionStorage","query","Record","div_href","otxt","searchFlag","search_close","Ty","click","search_result","keyword","link","fa","title","iconfont","comments","B","A","z","y","F","H","G","D","E","C","array","filter","v","values","some","RegExp","Cx","oninput","js_search","show_Nav","sln","loading","load_post","func","isRunning","args","finally","onlyOnceATime","now_href","pagination_a","DOM","DOMParser","parseFromString","paga","paga_innerText","nextHref","main","refresh","dpga","addps","tempScrollTop","XLS","load_post_timer","intersectionRatio","_page_next","page_next","load_key","load_time","XCS","__list","form","statusSubmitting","butterBarRef","ajaxurl","method","order","formpostion","statusText","GT","mb_to_top","transform","load","NProgressON","NProgress","start","gtag","google_analytics_id","pathname","siteHeader","NH","_this","_xhr","responseType","onloadstart","comments_navi","commentwrap","loading_comments","comments_list","response","nextlink","outerHTML","MN","POWERMODE","colorful","shake","IA","onended","video_add","LV","isWebkit","isOpera","isIe","audio","AudioContext","webkitAudioContext","ctx","select","createOscillator","createGain","connect","destination","frequency","gain","setValueAtTime","currentTime","linearRampToValueAtTime","exponentialRampToValueAtTime","stop","round","h","pageX","pageY","zIndex","left","position","color","animate","opacity","hash","tabIndex","preload","preload_blur","backdropFilter","fill","easing","onfinish"],"mappings":"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","file":"app.js","sourcesContent":["var getProto = Object.getPrototypeOf ? (obj) => (Object.getPrototypeOf(obj)) : (obj) => (obj.__proto__);\nvar leafPrototypes;\n// create a fake namespace object\n// mode & 1: value is a module id, require it\n// mode & 2: merge all properties of value into the ns\n// mode & 4: return value when already ns object\n// mode & 16: return value when it's Promise-like\n// mode & 8|1: behave like require\n__webpack_require__.t = function(value, mode) {\n\tif(mode & 1) value = this(value);\n\tif(mode & 8) return value;\n\tif(typeof value === 'object' && value) {\n\t\tif((mode & 4) && value.__esModule) return value;\n\t\tif((mode & 16) && typeof value.then === 'function') return value;\n\t}\n\tvar ns = Object.create(null);\n\t__webpack_require__.r(ns);\n\tvar def = {};\n\tleafPrototypes = leafPrototypes || [null, getProto({}), getProto([]), getProto(getProto)];\n\tfor(var current = mode & 2 && value; typeof current == 'object' && !~leafPrototypes.indexOf(current); current = getProto(current)) {\n\t\tObject.getOwnPropertyNames(current).forEach((key) => (def[key] = () => (value[key])));\n\t}\n\tdef['default'] = () => (value);\n\t__webpack_require__.d(ns, def);\n\treturn ns;\n};","var inProgress = {};\nvar dataWebpackPrefix = \"sakurairo-scripts:\";\n// loadScript function to load a script via script tag\n__webpack_require__.l = (url, done, key, chunkId) => {\n\tif(inProgress[url]) { inProgress[url].push(done); return; }\n\tvar script, needAttach;\n\tif(key !== undefined) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tfor(var i = 0; i < scripts.length; i++) {\n\t\t\tvar s = scripts[i];\n\t\t\tif(s.getAttribute(\"src\") == url || s.getAttribute(\"data-webpack\") == dataWebpackPrefix + key) { script = s; break; }\n\t\t}\n\t}\n\tif(!script) {\n\t\tneedAttach = true;\n\t\tscript = document.createElement('script');\n\n\t\tscript.charset = 'utf-8';\n\t\tscript.timeout = 120;\n\t\tif (__webpack_require__.nc) {\n\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n\t\t}\n\t\tscript.setAttribute(\"data-webpack\", dataWebpackPrefix + key);\n\t\tscript.src = url;\n\t}\n\tinProgress[url] = [done];\n\tvar onScriptComplete = (prev, event) => {\n\t\t// avoid mem leaks in IE.\n\t\tscript.onerror = script.onload = null;\n\t\tclearTimeout(timeout);\n\t\tvar doneFns = inProgress[url];\n\t\tdelete inProgress[url];\n\t\tscript.parentNode && script.parentNode.removeChild(script);\n\t\tdoneFns && doneFns.forEach((fn) => (fn(event)));\n\t\tif(prev) return prev(event);\n\t}\n\t;\n\tvar timeout = setTimeout(onScriptComplete.bind(null, undefined, { type: 'timeout', target: script }), 120000);\n\tscript.onerror = onScriptComplete.bind(null, script.onerror);\n\tscript.onload = onScriptComplete.bind(null, script.onload);\n\tneedAttach && document.head.appendChild(script);\n};","var charenc = {\n  // UTF-8 encoding\n  utf8: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      return charenc.bin.stringToBytes(unescape(encodeURIComponent(str)));\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      return decodeURIComponent(escape(charenc.bin.bytesToString(bytes)));\n    }\n  },\n\n  // Binary encoding\n  bin: {\n    // Convert a string to a byte array\n    stringToBytes: function(str) {\n      for (var bytes = [], i = 0; i < str.length; i++)\n        bytes.push(str.charCodeAt(i) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a string\n    bytesToString: function(bytes) {\n      for (var str = [], i = 0; i < bytes.length; i++)\n        str.push(String.fromCharCode(bytes[i]));\n      return str.join('');\n    }\n  }\n};\n\nmodule.exports = charenc;\n","(function() {\n  var base64map\n      = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/',\n\n  crypt = {\n    // Bit-wise rotation left\n    rotl: function(n, b) {\n      return (n << b) | (n >>> (32 - b));\n    },\n\n    // Bit-wise rotation right\n    rotr: function(n, b) {\n      return (n << (32 - b)) | (n >>> b);\n    },\n\n    // Swap big-endian to little-endian and vice versa\n    endian: function(n) {\n      // If number given, swap endian\n      if (n.constructor == Number) {\n        return crypt.rotl(n, 8) & 0x00FF00FF | crypt.rotl(n, 24) & 0xFF00FF00;\n      }\n\n      // Else, assume array and swap all items\n      for (var i = 0; i < n.length; i++)\n        n[i] = crypt.endian(n[i]);\n      return n;\n    },\n\n    // Generate an array of any length of random bytes\n    randomBytes: function(n) {\n      for (var bytes = []; n > 0; n--)\n        bytes.push(Math.floor(Math.random() * 256));\n      return bytes;\n    },\n\n    // Convert a byte array to big-endian 32-bit words\n    bytesToWords: function(bytes) {\n      for (var words = [], i = 0, b = 0; i < bytes.length; i++, b += 8)\n        words[b >>> 5] |= bytes[i] << (24 - b % 32);\n      return words;\n    },\n\n    // Convert big-endian 32-bit words to a byte array\n    wordsToBytes: function(words) {\n      for (var bytes = [], b = 0; b < words.length * 32; b += 8)\n        bytes.push((words[b >>> 5] >>> (24 - b % 32)) & 0xFF);\n      return bytes;\n    },\n\n    // Convert a byte array to a hex string\n    bytesToHex: function(bytes) {\n      for (var hex = [], i = 0; i < bytes.length; i++) {\n        hex.push((bytes[i] >>> 4).toString(16));\n        hex.push((bytes[i] & 0xF).toString(16));\n      }\n      return hex.join('');\n    },\n\n    // Convert a hex string to a byte array\n    hexToBytes: function(hex) {\n      for (var bytes = [], c = 0; c < hex.length; c += 2)\n        bytes.push(parseInt(hex.substr(c, 2), 16));\n      return bytes;\n    },\n\n    // Convert a byte array to a base-64 string\n    bytesToBase64: function(bytes) {\n      for (var base64 = [], i = 0; i < bytes.length; i += 3) {\n        var triplet = (bytes[i] << 16) | (bytes[i + 1] << 8) | bytes[i + 2];\n        for (var j = 0; j < 4; j++)\n          if (i * 8 + j * 6 <= bytes.length * 8)\n            base64.push(base64map.charAt((triplet >>> 6 * (3 - j)) & 0x3F));\n          else\n            base64.push('=');\n      }\n      return base64.join('');\n    },\n\n    // Convert a base-64 string to a byte array\n    base64ToBytes: function(base64) {\n      // Remove non-base-64 characters\n      base64 = base64.replace(/[^A-Z0-9+\\/]/ig, '');\n\n      for (var bytes = [], i = 0, imod4 = 0; i < base64.length;\n          imod4 = ++i % 4) {\n        if (imod4 == 0) continue;\n        bytes.push(((base64map.indexOf(base64.charAt(i - 1))\n            & (Math.pow(2, -2 * imod4 + 8) - 1)) << (imod4 * 2))\n            | (base64map.indexOf(base64.charAt(i)) >>> (6 - imod4 * 2)));\n      }\n      return bytes;\n    }\n  };\n\n  module.exports = crypt;\n})();\n","/*! loadCSS. [c]2020 Filament Group, Inc. MIT License */\n(function(w){\n\t\"use strict\";\n\t/* exported loadCSS */\n\tvar loadCSS = function( href, before, media, attributes ){\n\t\t// Arguments explained:\n\t\t// `href` [REQUIRED] is the URL for your CSS file.\n\t\t// `before` [OPTIONAL] is the element the script should use as a reference for injecting our stylesheet <link> before\n\t\t// By default, loadCSS attempts to inject the link after the last stylesheet or script in the DOM. However, you might desire a more specific location in your document.\n\t\t// `media` [OPTIONAL] is the media type or query of the stylesheet. By default it will be 'all'\n\t\t// `attributes` [OPTIONAL] is the Object of attribute name/attribute value pairs to set on the stylesheet's DOM Element.\n\t\tvar doc = w.document;\n\t\tvar ss = doc.createElement( \"link\" );\n\t\tvar ref;\n\t\tif( before ){\n\t\t\tref = before;\n\t\t}\n\t\telse {\n\t\t\tvar refs = ( doc.body || doc.getElementsByTagName( \"head\" )[ 0 ] ).childNodes;\n\t\t\tref = refs[ refs.length - 1];\n\t\t}\n\n\t\tvar sheets = doc.styleSheets;\n\t\t// Set any of the provided attributes to the stylesheet DOM Element.\n\t\tif( attributes ){\n\t\t\tfor( var attributeName in attributes ){\n\t\t\t\tif( attributes.hasOwnProperty( attributeName ) ){\n\t\t\t\t\tss.setAttribute( attributeName, attributes[attributeName] );\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tss.rel = \"stylesheet\";\n\t\tss.href = href;\n\t\t// temporarily set media to something inapplicable to ensure it'll fetch without blocking render\n\t\tss.media = \"only x\";\n\n\t\t// wait until body is defined before injecting link. This ensures a non-blocking load in IE11.\n\t\tfunction ready( cb ){\n\t\t\tif( doc.body ){\n\t\t\t\treturn cb();\n\t\t\t}\n\t\t\tsetTimeout(function(){\n\t\t\t\tready( cb );\n\t\t\t});\n\t\t}\n\t\t// Inject link\n\t\t\t// Note: the ternary preserves the existing behavior of \"before\" argument, but we could choose to change the argument to \"after\" in a later release and standardize on ref.nextSibling for all refs\n\t\t\t// Note: `insertBefore` is used instead of `appendChild`, for safety re: http://www.paulirish.com/2011/surefire-dom-element-insertion/\n\t\tready( function(){\n\t\t\tref.parentNode.insertBefore( ss, ( before ? ref : ref.nextSibling ) );\n\t\t});\n\t\t// A method (exposed on return object for external use) that mimics onload by polling document.styleSheets until it includes the new sheet.\n\t\tvar onloadcssdefined = function( cb ){\n\t\t\tvar resolvedHref = ss.href;\n\t\t\tvar i = sheets.length;\n\t\t\twhile( i-- ){\n\t\t\t\tif( sheets[ i ].href === resolvedHref ){\n\t\t\t\t\treturn cb();\n\t\t\t\t}\n\t\t\t}\n\t\t\tsetTimeout(function() {\n\t\t\t\tonloadcssdefined( cb );\n\t\t\t});\n\t\t};\n\n\t\tfunction loadCB(){\n\t\t\tif( ss.addEventListener ){\n\t\t\t\tss.removeEventListener( \"load\", loadCB );\n\t\t\t}\n\t\t\tss.media = media || \"all\";\n\t\t}\n\n\t\t// once loaded, set link's media back to `all` so that the stylesheet applies once it loads\n\t\tif( ss.addEventListener ){\n\t\t\tss.addEventListener( \"load\", loadCB);\n\t\t}\n\t\tss.onloadcssdefined = onloadcssdefined;\n\t\tonloadcssdefined( loadCB );\n\t\treturn ss;\n\t};\n\t// commonjs\n\tif( typeof exports !== \"undefined\" ){\n\t\texports.loadCSS = loadCSS;\n\t}\n\telse {\n\t\tw.loadCSS = loadCSS;\n\t}\n}( typeof global !== \"undefined\" ? global : this ));\n","/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh <https://feross.org>\n * @license  MIT\n */\n\n// The _isBuffer check is for Safari 5-7 support, because it's missing\n// Object.prototype.constructor. Remove this eventually\nmodule.exports = function (obj) {\n  return obj != null && (isBuffer(obj) || isSlowBuffer(obj) || !!obj._isBuffer)\n}\n\nfunction isBuffer (obj) {\n  return !!obj.constructor && typeof obj.constructor.isBuffer === 'function' && obj.constructor.isBuffer(obj)\n}\n\n// For Node v0.10 support. Remove this eventually.\nfunction isSlowBuffer (obj) {\n  return typeof obj.readFloatLE === 'function' && typeof obj.slice === 'function' && isBuffer(obj.slice(0, 0))\n}\n","(function(){\r\n  var crypt = require('crypt'),\r\n      utf8 = require('charenc').utf8,\r\n      isBuffer = require('is-buffer'),\r\n      bin = require('charenc').bin,\r\n\r\n  // The core\r\n  md5 = function (message, options) {\r\n    // Convert to byte array\r\n    if (message.constructor == String)\r\n      if (options && options.encoding === 'binary')\r\n        message = bin.stringToBytes(message);\r\n      else\r\n        message = utf8.stringToBytes(message);\r\n    else if (isBuffer(message))\r\n      message = Array.prototype.slice.call(message, 0);\r\n    else if (!Array.isArray(message) && message.constructor !== Uint8Array)\r\n      message = message.toString();\r\n    // else, assume byte array already\r\n\r\n    var m = crypt.bytesToWords(message),\r\n        l = message.length * 8,\r\n        a =  1732584193,\r\n        b = -271733879,\r\n        c = -1732584194,\r\n        d =  271733878;\r\n\r\n    // Swap endian\r\n    for (var i = 0; i < m.length; i++) {\r\n      m[i] = ((m[i] <<  8) | (m[i] >>> 24)) & 0x00FF00FF |\r\n             ((m[i] << 24) | (m[i] >>>  8)) & 0xFF00FF00;\r\n    }\r\n\r\n    // Padding\r\n    m[l >>> 5] |= 0x80 << (l % 32);\r\n    m[(((l + 64) >>> 9) << 4) + 14] = l;\r\n\r\n    // Method shortcuts\r\n    var FF = md5._ff,\r\n        GG = md5._gg,\r\n        HH = md5._hh,\r\n        II = md5._ii;\r\n\r\n    for (var i = 0; i < m.length; i += 16) {\r\n\r\n      var aa = a,\r\n          bb = b,\r\n          cc = c,\r\n          dd = d;\r\n\r\n      a = FF(a, b, c, d, m[i+ 0],  7, -680876936);\r\n      d = FF(d, a, b, c, m[i+ 1], 12, -389564586);\r\n      c = FF(c, d, a, b, m[i+ 2], 17,  606105819);\r\n      b = FF(b, c, d, a, m[i+ 3], 22, -1044525330);\r\n      a = FF(a, b, c, d, m[i+ 4],  7, -176418897);\r\n      d = FF(d, a, b, c, m[i+ 5], 12,  1200080426);\r\n      c = FF(c, d, a, b, m[i+ 6], 17, -1473231341);\r\n      b = FF(b, c, d, a, m[i+ 7], 22, -45705983);\r\n      a = FF(a, b, c, d, m[i+ 8],  7,  1770035416);\r\n      d = FF(d, a, b, c, m[i+ 9], 12, -1958414417);\r\n      c = FF(c, d, a, b, m[i+10], 17, -42063);\r\n      b = FF(b, c, d, a, m[i+11], 22, -1990404162);\r\n      a = FF(a, b, c, d, m[i+12],  7,  1804603682);\r\n      d = FF(d, a, b, c, m[i+13], 12, -40341101);\r\n      c = FF(c, d, a, b, m[i+14], 17, -1502002290);\r\n      b = FF(b, c, d, a, m[i+15], 22,  1236535329);\r\n\r\n      a = GG(a, b, c, d, m[i+ 1],  5, -165796510);\r\n      d = GG(d, a, b, c, m[i+ 6],  9, -1069501632);\r\n      c = GG(c, d, a, b, m[i+11], 14,  643717713);\r\n      b = GG(b, c, d, a, m[i+ 0], 20, -373897302);\r\n      a = GG(a, b, c, d, m[i+ 5],  5, -701558691);\r\n      d = GG(d, a, b, c, m[i+10],  9,  38016083);\r\n      c = GG(c, d, a, b, m[i+15], 14, -660478335);\r\n      b = GG(b, c, d, a, m[i+ 4], 20, -405537848);\r\n      a = GG(a, b, c, d, m[i+ 9],  5,  568446438);\r\n      d = GG(d, a, b, c, m[i+14],  9, -1019803690);\r\n      c = GG(c, d, a, b, m[i+ 3], 14, -187363961);\r\n      b = GG(b, c, d, a, m[i+ 8], 20,  1163531501);\r\n      a = GG(a, b, c, d, m[i+13],  5, -1444681467);\r\n      d = GG(d, a, b, c, m[i+ 2],  9, -51403784);\r\n      c = GG(c, d, a, b, m[i+ 7], 14,  1735328473);\r\n      b = GG(b, c, d, a, m[i+12], 20, -1926607734);\r\n\r\n      a = HH(a, b, c, d, m[i+ 5],  4, -378558);\r\n      d = HH(d, a, b, c, m[i+ 8], 11, -2022574463);\r\n      c = HH(c, d, a, b, m[i+11], 16,  1839030562);\r\n      b = HH(b, c, d, a, m[i+14], 23, -35309556);\r\n      a = HH(a, b, c, d, m[i+ 1],  4, -1530992060);\r\n      d = HH(d, a, b, c, m[i+ 4], 11,  1272893353);\r\n      c = HH(c, d, a, b, m[i+ 7], 16, -155497632);\r\n      b = HH(b, c, d, a, m[i+10], 23, -1094730640);\r\n      a = HH(a, b, c, d, m[i+13],  4,  681279174);\r\n      d = HH(d, a, b, c, m[i+ 0], 11, -358537222);\r\n      c = HH(c, d, a, b, m[i+ 3], 16, -722521979);\r\n      b = HH(b, c, d, a, m[i+ 6], 23,  76029189);\r\n      a = HH(a, b, c, d, m[i+ 9],  4, -640364487);\r\n      d = HH(d, a, b, c, m[i+12], 11, -421815835);\r\n      c = HH(c, d, a, b, m[i+15], 16,  530742520);\r\n      b = HH(b, c, d, a, m[i+ 2], 23, -995338651);\r\n\r\n      a = II(a, b, c, d, m[i+ 0],  6, -198630844);\r\n      d = II(d, a, b, c, m[i+ 7], 10,  1126891415);\r\n      c = II(c, d, a, b, m[i+14], 15, -1416354905);\r\n      b = II(b, c, d, a, m[i+ 5], 21, -57434055);\r\n      a = II(a, b, c, d, m[i+12],  6,  1700485571);\r\n      d = II(d, a, b, c, m[i+ 3], 10, -1894986606);\r\n      c = II(c, d, a, b, m[i+10], 15, -1051523);\r\n      b = II(b, c, d, a, m[i+ 1], 21, -2054922799);\r\n      a = II(a, b, c, d, m[i+ 8],  6,  1873313359);\r\n      d = II(d, a, b, c, m[i+15], 10, -30611744);\r\n      c = II(c, d, a, b, m[i+ 6], 15, -1560198380);\r\n      b = II(b, c, d, a, m[i+13], 21,  1309151649);\r\n      a = II(a, b, c, d, m[i+ 4],  6, -145523070);\r\n      d = II(d, a, b, c, m[i+11], 10, -1120210379);\r\n      c = II(c, d, a, b, m[i+ 2], 15,  718787259);\r\n      b = II(b, c, d, a, m[i+ 9], 21, -343485551);\r\n\r\n      a = (a + aa) >>> 0;\r\n      b = (b + bb) >>> 0;\r\n      c = (c + cc) >>> 0;\r\n      d = (d + dd) >>> 0;\r\n    }\r\n\r\n    return crypt.endian([a, b, c, d]);\r\n  };\r\n\r\n  // Auxiliary functions\r\n  md5._ff  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & c | ~b & d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._gg  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b & d | c & ~d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._hh  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (b ^ c ^ d) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n  md5._ii  = function (a, b, c, d, x, s, t) {\r\n    var n = a + (c ^ (b | ~d)) + (x >>> 0) + t;\r\n    return ((n << s) | (n >>> (32 - s))) + b;\r\n  };\r\n\r\n  // Package private blocksize\r\n  md5._blocksize = 16;\r\n  md5._digestsize = 16;\r\n\r\n  module.exports = function (message, options) {\r\n    if (message === undefined || message === null)\r\n      throw new Error('Illegal argument ' + message);\r\n\r\n    var digestbytes = crypt.wordsToBytes(md5(message, options));\r\n    return options && options.asBytes ? digestbytes :\r\n        options && options.asString ? bin.bytesToString(digestbytes) :\r\n        crypt.bytesToHex(digestbytes);\r\n  };\r\n\r\n})();\r\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.f = {};\n// This file contains only the entry chunk.\n// The chunk loading function for additional chunks\n__webpack_require__.e = (chunkId) => {\n\treturn Promise.all(Object.keys(__webpack_require__.f).reduce((promises, key) => {\n\t\t__webpack_require__.f[key](chunkId, promises);\n\t\treturn promises;\n\t}, []));\n};","// This function allow to reference async chunks\n__webpack_require__.u = (chunkId) => {\n\t// return url for filenames based on template\n\treturn \"\" + chunkId + \".js\";\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","var scriptUrl;\nif (__webpack_require__.g.importScripts) scriptUrl = __webpack_require__.g.location + \"\";\nvar document = __webpack_require__.g.document;\nif (!scriptUrl && document) {\n\tif (document.currentScript)\n\t\tscriptUrl = document.currentScript.src\n\tif (!scriptUrl) {\n\t\tvar scripts = document.getElementsByTagName(\"script\");\n\t\tif(scripts.length) scriptUrl = scripts[scripts.length - 1].src\n\t}\n}\n// When supporting browsers where an automatic publicPath is not supported you must specify an output.publicPath manually via configuration\n// or pass an empty string (\"\") and set the __webpack_public_path__ variable from your code to use your own logic.\nif (!scriptUrl) throw new Error(\"Automatic publicPath is not supported in this browser\");\nscriptUrl = scriptUrl.replace(/#.*$/, \"\").replace(/\\?.*$/, \"\").replace(/\\/[^\\/]+$/, \"/\");\n__webpack_require__.p = scriptUrl;","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t143: 0\n};\n\n__webpack_require__.f.j = (chunkId, promises) => {\n\t\t// JSONP chunk loading for javascript\n\t\tvar installedChunkData = __webpack_require__.o(installedChunks, chunkId) ? installedChunks[chunkId] : undefined;\n\t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n\t\t\t// a Promise means \"currently loading\".\n\t\t\tif(installedChunkData) {\n\t\t\t\tpromises.push(installedChunkData[2]);\n\t\t\t} else {\n\t\t\t\tif(true) { // all chunks have JS\n\t\t\t\t\t// setup Promise in chunk cache\n\t\t\t\t\tvar promise = new Promise((resolve, reject) => (installedChunkData = installedChunks[chunkId] = [resolve, reject]));\n\t\t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n\t\t\t\t\t// start chunk loading\n\t\t\t\t\tvar url = __webpack_require__.p + __webpack_require__.u(chunkId);\n\t\t\t\t\t// create error before stack unwound to get useful stacktrace later\n\t\t\t\t\tvar error = new Error();\n\t\t\t\t\tvar loadingEnded = (event) => {\n\t\t\t\t\t\tif(__webpack_require__.o(installedChunks, chunkId)) {\n\t\t\t\t\t\t\tinstalledChunkData = installedChunks[chunkId];\n\t\t\t\t\t\t\tif(installedChunkData !== 0) installedChunks[chunkId] = undefined;\n\t\t\t\t\t\t\tif(installedChunkData) {\n\t\t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n\t\t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n\t\t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n\t\t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n\t\t\t\t\t\t\t\terror.type = errorType;\n\t\t\t\t\t\t\t\terror.request = realSrc;\n\t\t\t\t\t\t\t\tinstalledChunkData[1](error);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t};\n\t\t\t\t\t__webpack_require__.l(url, loadingEnded, \"chunk-\" + chunkId, chunkId);\n\t\t\t\t} else installedChunks[chunkId] = 0;\n\t\t\t}\n\t\t}\n};\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) var result = runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkIds[i]] = 0;\n\t}\n\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunksakurairo_scripts\"] = self[\"webpackChunksakurairo_scripts\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","function promisifyRequest(request) {\n    return new Promise((resolve, reject) => {\n        // @ts-ignore - file size hacks\n        request.oncomplete = request.onsuccess = () => resolve(request.result);\n        // @ts-ignore - file size hacks\n        request.onabort = request.onerror = () => reject(request.error);\n    });\n}\nfunction createStore(dbName, storeName) {\n    const request = indexedDB.open(dbName);\n    request.onupgradeneeded = () => request.result.createObjectStore(storeName);\n    const dbp = promisifyRequest(request);\n    return (txMode, callback) => dbp.then((db) => callback(db.transaction(storeName, txMode).objectStore(storeName)));\n}\nlet defaultGetStoreFunc;\nfunction defaultGetStore() {\n    if (!defaultGetStoreFunc) {\n        defaultGetStoreFunc = createStore('keyval-store', 'keyval');\n    }\n    return defaultGetStoreFunc;\n}\n/**\n * Get a value by its key.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction get(key, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => promisifyRequest(store.get(key)));\n}\n/**\n * Set a value with a key.\n *\n * @param key\n * @param value\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction set(key, value, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.put(value, key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Set multiple values at once. This is faster than calling set() multiple times.\n * It's also atomic – if one of the pairs can't be added, none will be added.\n *\n * @param entries Array of entries, where each entry is an array of `[key, value]`.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction setMany(entries, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        entries.forEach((entry) => store.put(entry[1], entry[0]));\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get multiple values by their keys\n *\n * @param keys\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction getMany(keys, customStore = defaultGetStore()) {\n    return customStore('readonly', (store) => Promise.all(keys.map((key) => promisifyRequest(store.get(key)))));\n}\n/**\n * Update a value. This lets you see the old value and update it as an atomic operation.\n *\n * @param key\n * @param updater A callback that takes the old value and returns a new value.\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction update(key, updater, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => \n    // Need to create the promise manually.\n    // If I try to chain promises, the transaction closes in browsers\n    // that use a promise polyfill (IE10/11).\n    new Promise((resolve, reject) => {\n        store.get(key).onsuccess = function () {\n            try {\n                store.put(updater(this.result), key);\n                resolve(promisifyRequest(store.transaction));\n            }\n            catch (err) {\n                reject(err);\n            }\n        };\n    }));\n}\n/**\n * Delete a particular key from the store.\n *\n * @param key\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction del(key, customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.delete(key);\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Clear all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction clear(customStore = defaultGetStore()) {\n    return customStore('readwrite', (store) => {\n        store.clear();\n        return promisifyRequest(store.transaction);\n    });\n}\nfunction eachCursor(customStore, callback) {\n    return customStore('readonly', (store) => {\n        // This would be store.getAllKeys(), but it isn't supported by Edge or Safari.\n        // And openKeyCursor isn't supported by Safari.\n        store.openCursor().onsuccess = function () {\n            if (!this.result)\n                return;\n            callback(this.result);\n            this.result.continue();\n        };\n        return promisifyRequest(store.transaction);\n    });\n}\n/**\n * Get all keys in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction keys(customStore = defaultGetStore()) {\n    const items = [];\n    return eachCursor(customStore, (cursor) => items.push(cursor.key)).then(() => items);\n}\n/**\n * Get all values in the store.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction values(customStore = defaultGetStore()) {\n    const items = [];\n    return eachCursor(customStore, (cursor) => items.push(cursor.value)).then(() => items);\n}\n/**\n * Get all entries in the store. Each entry is an array of `[key, value]`.\n *\n * @param customStore Method to get a custom store. Use with caution (see the docs).\n */\nfunction entries(customStore = defaultGetStore()) {\n    const items = [];\n    return eachCursor(customStore, (cursor) => items.push([cursor.key, cursor.value])).then(() => items);\n}\n\nexport { clear, createStore, del, entries, get, getMany, keys, promisifyRequest, set, setMany, update, values };\n","import { createStore, get as idbget, set as idbset, del as idbdel } from 'idb-keyval';\nconst store = createStore('sakurairo', 'cache');\nconst get = (key) => idbget(key, store);\nconst set = (key, value) => idbset(key, value, store);\nconst del = (key) => idbdel(key, store);\nexport { get, set, del };\n","import { __awaiter } from \"tslib\";\nimport { get, set, del } from './cache';\nlet bgn = 1;\nlet blob_url = '';\nexport function nextBG() {\n    cleanBlobUrl();\n    changeCoverBG(getAPIPath(true));\n    bgn++;\n}\nexport function preBG() {\n    cleanBlobUrl();\n    bgn--;\n    changeCoverBG(getAPIPath(true));\n}\nconst centerbg = document.querySelector(\".centerbg\");\n/**\n * 更改封面背景\n */\nconst changeCoverBG = mashiro_option.rnd_site_bg ? (url) => {\n    document.body.style.backgroundImage = `url(${url})`;\n} :\n    centerbg ? (url) => {\n        centerbg.style.backgroundImage = `url(${url})`;\n    } : (console.warn(''), () => { });\nexport function getAPIPath(useBGN = false) {\n    const cover_api_url = new URL(mashiro_option.cover_api);\n    if (document.body.clientWidth < 860 && mashiro_option.random_graphs_mts == true) {\n        cover_api_url.searchParams.set('type', 'mobile');\n        return cover_api_url.toString() + (useBGN ? \"&\" + bgn : '');\n    }\n    else {\n        return cover_api_url.toString() + (useBGN ? (cover_api_url.search === '' ? \"?\" : '&') + bgn : '');\n    }\n}\nfunction fetchAndCache() {\n    return __awaiter(this, void 0, void 0, function* () {\n        try {\n            const resp = yield fetch(getAPIPath());\n            if (resp.ok) {\n                const blob = yield resp.blob();\n                set('cover', blob);\n            }\n        }\n        catch (e) {\n            if (typeof e == 'object' && e instanceof TypeError) {\n                console.warn('你的封面API好像不支持跨域调用,这种情况下缓存是不会生效的哦');\n                del('cover');\n            }\n        }\n    });\n}\nfunction cleanBlobUrl() {\n    URL.revokeObjectURL(blob_url);\n    blob_url = '';\n}\nexport function initCoverBG() {\n    return __awaiter(this, void 0, void 0, function* () {\n        if (!mashiro_option.land_at_home)\n            return;\n        if (mashiro_option.site_bg_as_cover) {\n            centerbg.style.background = '#0000';\n            if (localStorage.getItem('bgImgSetting') !== 'white-bg') {\n                return;\n            }\n        }\n        if (mashiro_option.cache_cover) {\n            const coverBG = yield get('cover');\n            if (coverBG) {\n                if (typeof coverBG == 'object' && coverBG instanceof Blob) {\n                    cleanBlobUrl();\n                    blob_url = URL.createObjectURL(coverBG);\n                    changeCoverBG(blob_url);\n                }\n            }\n            else {\n                //fallback\n                changeCoverBG(getAPIPath());\n            }\n            fetchAndCache();\n        }\n        else {\n            changeCoverBG(getAPIPath());\n        }\n    });\n}\n","export default function (apiPath, params = {}, nonce = true) {\n    const path = new URL(apiPath);\n    const { searchParams } = path;\n    for (const [key, value] of Object.entries(params)) {\n        searchParams.set(key, value);\n    }\n    if (nonce)\n        searchParams.set(\"_wpnonce\", Poi.nonce);\n    return path.toString();\n}\n","var _a;\n/**\n * Cookie\n * from github.com/mirai-mamori/Sakurairo ./js/sakura-app.js ,commit 71f5a0c\n * @license GPL-v2\n * @date 2021.03\n */\nlet _version_ctrl = (_a = mashiro_option.cookie_version_control) !== null && _a !== void 0 ? _a : '';\nexport function setCookie(key, value, days) {\n    const expires = days ? \"; expires=\" + new Date(Date.now() + (days * 24 * 60 * 60 * 1000)).toUTCString() : \"\";\n    document.cookie = key + _version_ctrl + \"=\" + (value || \"\") + expires + \"; path=/\";\n}\nexport function getCookie(key) {\n    const nameEQ = key + _version_ctrl + \"=\", ca = document.cookie.split(';');\n    for (let i = 0; i < ca.length; i++) {\n        let c = ca[i];\n        while (c.charAt(0) == ' ')\n            c = c.substring(1, c.length);\n        if (c.indexOf(nameEQ) == 0)\n            return c.substring(nameEQ.length, c.length);\n    }\n    return null;\n}\nexport function removeCookie(key) {\n    document.cookie = key + _version_ctrl + '=; Max-Age=-99999999;';\n}\n","export function clearButterbar() {\n    const butterBar = document.getElementsByClassName(\"butterBar\");\n    if (butterBar.length > 0) {\n        for (let i = 0; i < butterBar.length; i++) {\n            butterBar[i].remove();\n        }\n    }\n}\nexport function createButterbar(message, keep) {\n    clearButterbar();\n    /*     document.body.insertAdjacentHTML('beforeend', '<div class=\"butterBar butterBar--center\"><p class=\"butterBar-message\">' + message + '</p></div>');\n     */\n    const div = document.createElement('div');\n    div.classList.add('butterBar', 'butterBar--center');\n    const p = document.createElement('p');\n    p.classList.add('butterBar-message');\n    p.appendChild(document.createTextNode(message));\n    div.appendChild(p);\n    document.body.appendChild(div);\n    if (keep !== true)\n        setTimeout(() => { clearButterbar(); }, typeof keep == 'number' ? keep : 6000);\n    return div;\n}\n","/**\n * sakura-app.js L943-963\n */\nimport { createButterbar } from \"./butterbar\";\nconst txt = [\n    \"# 商业转载请联系作者获得授权，非商业转载请注明出处。\",\n    \"# For commercial use, please contact the author for authorization. For non-commercial use, please indicate the source.\",\n    \"# 协议(License)：署名-非商业性使用-相同方式共享 4.0 国际 (CC BY-NC-SA 4.0)\",\n    \"# 作者(Author)：\" + mashiro_option.author_name,\n    \"# 链接(URL)：\" + window.location.href,\n    \"# 来源(Source)：\" + mashiro_option.site_name,\n];\nfunction setClipboardText(event, selectionTxt) {\n    event.preventDefault();\n    const htmlData = txt.join('<br>') + \"<br><br>\" + selectionTxt.replace(/\\r\\n/g, \"<br>\"), textData = txt.join('\\n') + \"\\n\\n\" + selectionTxt.toString().replace(/\\r\\n/g, \"\\n\");\n    if (event.clipboardData) {\n        event.clipboardData.setData(\"text/html\", htmlData);\n        event.clipboardData.setData(\"text/plain\", textData);\n    }\n    else if (window.clipboardData) {\n        //deprecate?\n        return window.clipboardData.setData(\"text\", textData);\n    }\n}\nfunction copytext(e) {\n    const selection = window.getSelection();\n    if (selection) {\n        const selectionText = selection.toString();\n        if (selectionText.length > 30) {\n            setClipboardText(e, selectionText);\n            createButterbar(\"复制成功！\\nCopied to clipboard successfully!\", 1000);\n        }\n    }\n}\n/**\n * 添加复制时的版权提示\n */\nexport default function add_copyright() {\n    if (mashiro_option.clipboardCopyright) {\n        document.body.removeEventListener(\"copy\", copytext);\n        document.body.addEventListener(\"copy\", copytext);\n    }\n}\n","const AddComment = {\n    respondId: '',\n    moveForm: function (commId, parentId, respondId) {\n        const t = this, comm = document.getElementById(commId), respond = document.getElementById(respondId), cancel = document.getElementById('cancel-comment-reply-link'), parent = document.getElementById('comment_parent');\n        //post = document.getElementById('comment_post_ID');\n        t.respondId = respondId;\n        if (!document.getElementById('wp-temp-form-div')) {\n            let div;\n            div = document.createElement('div');\n            div.id = 'wp-temp-form-div';\n            div.style.display = 'none';\n            respond.parentNode.insertBefore(div, respond);\n        }\n        if (!comm) {\n            const temp = document.getElementById('wp-temp-form-div');\n            document.getElementById('comment_parent').value = '0';\n            temp.parentNode.insertBefore(respond, temp);\n            temp.remove();\n        }\n        else {\n            comm.parentNode.insertBefore(respond, comm.nextSibling);\n        }\n        const _respond = document.getElementById(\"respond\");\n        window.scrollTo({\n            top: _respond.getBoundingClientRect().top + window.pageYOffset - _respond.clientTop - 100,\n            behavior: \"smooth\"\n        });\n        parent.value = parentId;\n        cancel.style.display = '';\n        cancel.onclick = function (e) {\n            var t = AddComment, temp = document.getElementById('wp-temp-form-div'), respond = document.getElementById(t.respondId);\n            document.getElementById('comment_parent').value = '0';\n            if (temp && respond) {\n                temp.parentNode.insertBefore(respond, temp);\n                temp.remove();\n                //temp.parentNode.removeChild(temp);\n            }\n            this.style.display = 'none';\n            this.onclick = null;\n            return false;\n        };\n        try {\n            document.getElementById('comment').focus();\n        }\n        catch (e) { }\n        return false;\n    },\n};\nexport default AddComment;\n","/**\n * default option\n */\nconst defaults = {\n    src: \"data-src\",\n    srcset: \"data-srcset\",\n    selector: \".lazyload\",\n    root: null,\n    rootMargin: \"0px\",\n    threshold: 0\n};\n/**\n * @class LazyLoad\n */\nexport default class LazyLoad {\n    constructor(images, options) {\n        this.observer = null;\n        this.settings = Object.assign(Object.assign({}, defaults), options);\n        this.images = images || document.querySelectorAll(this.settings.selector);\n        this.init();\n    }\n    init() {\n        /* Without observers load everything and bail out early. */\n        if (!IntersectionObserver) {\n            this.loadImages();\n            return;\n        }\n        const self = this;\n        let observerConfig = {\n            root: this.settings.root,\n            rootMargin: this.settings.rootMargin,\n            threshold: [this.settings.threshold]\n        };\n        this.observer = new IntersectionObserver(function (entries) {\n            Array.prototype.forEach.call(entries, function (entry) {\n                if (entry.isIntersecting) {\n                    self.observer.unobserve(entry.target);\n                    let src = entry.target.getAttribute(self.settings.src);\n                    let srcset = entry.target.getAttribute(self.settings.srcset);\n                    if (\"img\" === entry.target.tagName.toLowerCase()) {\n                        if (src) {\n                            entry.target.src = src;\n                        }\n                        if (srcset) {\n                            entry.target.srcset = srcset;\n                        }\n                    }\n                    else {\n                        entry.target.style.backgroundImage = \"url(\" + src + \")\";\n                    }\n                }\n            });\n        }, observerConfig);\n        this.images.forEach((image) => {\n            self.observer.observe(image);\n        });\n    }\n    loadAndDestroy() {\n        if (!this.settings) {\n            return;\n        }\n        this.loadImages();\n        this.destroy();\n    }\n    loadImages() {\n        if (!this.settings) {\n            return;\n        }\n        const self = this;\n        Array.prototype.forEach.call(this.images, function (image) {\n            let src = image.getAttribute(self.settings.src);\n            let srcset = image.getAttribute(self.settings.srcset);\n            if (\"img\" === image.tagName.toLowerCase()) {\n                if (src) {\n                    image.src = src;\n                }\n                if (srcset) {\n                    image.srcset = srcset;\n                }\n            }\n            else {\n                image.style.backgroundImage = \"url('\" + src + \"')\";\n            }\n        });\n    }\n    /**\n     * Destroy Lazyload Instance\n     * @returns\n     */\n    destroy() {\n        if (!this.settings) {\n            return;\n        }\n        this.observer.disconnect();\n        this.settings = null;\n    }\n}\nexport const lazyload = (images, options) => new LazyLoad(images, options);\n","function imgError(ele, type) {\n    switch (type) {\n        case 1:\n            ele.src = 'https://view.moezx.cc/images/2017/12/30/Transparent_Akkarin.th.jpg';\n            break;\n        case 2:\n            ele.src = 'https://sdn.geekzu.org/avatar/?s=80&d=mm&r=g';\n            break;\n        default:\n            ele.src = 'https://view.moezx.cc/images/2018/05/13/image-404.png';\n    }\n}\nfunction cmt_showPopup(ele) {\n    let popup = ele.querySelector(\"#thePopup\");\n    popup.classList.add(\"show\");\n    ele.querySelector(\"input\").onblur = () => {\n        popup.classList.remove(\"show\");\n    }\n}\n/*视频feature*/\nfunction coverVideo() {\n    let video = document.getElementById(\"coverVideo\"),\n        btn = document.getElementById(\"coverVideo-btn\");\n\n    if (video.paused) {\n        video.play();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-pause\" aria-hidden=\"true\"></i>';\n        } catch { };\n        //console.info('play:coverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-play\" aria-hidden=\"true\"></i>';\n        } catch { };\n        //console.info('pause:coverVideo()');\n    }\n}\n\nfunction killCoverVideo() {\n    var video = document.getElementById(\"coverVideo\");\n    var btn = document.getElementById(\"coverVideo-btn\");\n\n    if (video.paused) {\n        //console.info('none:killCoverVideo()');\n    } else {\n        video.pause();\n        try {\n            btn.innerHTML = '<i class=\"fa fa-play\" aria-hidden=\"true\"></i>';\n        } catch (e) { };\n        //console.info('pause:killCoverVideo()');\n    }\n}\nfunction mail_me() {\n    var mail = \"mailto:\" + mashiro_option.email_name + \"@\" + mashiro_option.email_domain;\n    window.open(mail);\n}\n/* 首页下拉箭头 */\nfunction headertop_down() {\n    let coverOffset = document.getElementById(\"content\").getBoundingClientRect().top + window.pageYOffset;\n    window.scrollTo({\n        top: coverOffset,\n        behavior: \"smooth\"\n    });\n}\nconst motionEles = [\".bili\", \".menhera\", \".tieba\"];\nfunction motionSwitch(ele) {\n    for (let i = 0; i < motionEles.length; i++) {\n        document.querySelector(motionEles[i] + '-bar').classList.remove('on-hover');\n        document.querySelector(motionEles[i] + '-container').style.display = 'none';\n    }\n    document.querySelector(ele + '-bar').classList.add(\"on-hover\");\n    document.querySelector(ele + '-container').style.display = 'block';\n}\nfunction grin(tag, type, before, after) {\n    let myField;\n    switch (type) {\n        case \"custom\": tag = before + tag + after; break;\n        case \"Img\": tag = '[img]' + tag + '[/img]'; break;\n        case \"Math\": tag = ' {{' + tag + '}} '; break;\n        case \"tieba\": tag = ' ::' + tag + ':: '; break;\n        default: tag = ' :' + tag + ': ';\n    }\n    if (document.getElementById('comment') && document.getElementById('comment').type == 'textarea') {\n        myField = document.getElementById('comment');\n    } else {\n        return false;\n    }\n    if (document.selection) {\n        myField.focus();\n        sel = document.selection.createRange();\n        sel.text = tag;\n        myField.focus();\n    } else if (myField.selectionStart || myField.selectionStart == '0') {\n        let startPos = myField.selectionStart,\n            endPos = myField.selectionEnd,\n            cursorPos = endPos;\n        myField.value = myField.value.substring(0, startPos) + tag + myField.value.substring(endPos, myField.value.length);\n        cursorPos += tag.length;\n        myField.focus();\n        myField.selectionStart = cursorPos;\n        myField.selectionEnd = cursorPos;\n    } else {\n        myField.value += tag;\n        myField.focus();\n    }\n}\nimport MD5 from 'md5'\n/**\n * Gravatar\n * from a6cd66c 11.third-part-functions.js\n */\nconst get_gravatar = (email, size= 80) =>'https://' + Poi.gravatar_url + '/' + MD5(email) + '.jpg?s=' + size + '&d=mm';\nwindow.imgError = imgError\nwindow.cmt_showPopup = cmt_showPopup\nwindow.coverVideo = coverVideo\nwindow.killCoverVideo = killCoverVideo\nwindow.mail_me = mail_me\nwindow.headertop_down = headertop_down\nwindow.motionSwitch = motionSwitch\nwindow.grin = grin\nwindow.get_gravatar = get_gravatar","import { createButterbar } from \"./butterbar\";\nlet btnSerif, btnSansSerif;\nfunction Serif() {\n    if (document.body.clientWidth <= 860) {\n        createButterbar(\"将从网络加载字体，流量请注意\");\n    }\n    document.body.classList.add(\"serif\");\n    btnSerif && btnSerif.classList.add(\"selected\");\n    btnSansSerif && btnSansSerif.classList.remove(\"selected\");\n    localStorage.setItem(\"font_family\", \"serif\");\n}\nfunction SansSerif() {\n    document.body.classList.remove(\"serif\");\n    btnSerif && btnSerif.classList.remove(\"selected\");\n    btnSansSerif && btnSansSerif.classList.add(\"selected\");\n    localStorage.setItem(\"font_family\", \"sans-serif\");\n}\nfunction change_font_listener(btn) {\n    return () => {\n        const { name } = btn.dataset;\n        const nowFont = localStorage.getItem(\"font_family\");\n        if (name == nowFont) {\n            return;\n        }\n        else {\n            if (name == 'serif') {\n                Serif();\n            }\n            else {\n                SansSerif();\n            }\n        }\n    };\n}\nexport function loadFontSetting() {\n    if (document.body.clientWidth > 860) {\n        if (!localStorage.getItem(\"font_family\") || localStorage.getItem(\"font_family\") == \"serif\")\n            document.body.classList.add(\"serif\");\n    }\n    if (localStorage.getItem(\"font_family\") == \"sans-serif\") {\n        btnSerif && btnSerif.classList.remove(\"selected\");\n        btnSansSerif && btnSansSerif.classList.add(\"selected\");\n    }\n}\nfunction initListener() {\n    btnSerif = document.getElementsByClassName(\"control-btn-serif\")[0];\n    btnSansSerif = document.getElementsByClassName(\"control-btn-sans-serif\")[0];\n    btnSerif.addEventListener('click', change_font_listener(btnSerif));\n    btnSansSerif.addEventListener('click', change_font_listener(btnSansSerif));\n}\nexport function initFontControl() {\n    loadFontSetting();\n    initListener();\n}\n","const mediaQuery = window.matchMedia('(prefers-color-scheme:dark)');\nlet inDarkMode = false;\nexport const isInDarkMode = () => inDarkMode;\nfunction informDarkModeChange(nextValue) {\n    console.log(\"夜间模式\" + (nextValue ? \"开启\" : \"关闭\"));\n    if (nextValue !== inDarkMode) {\n        document.dispatchEvent(new CustomEvent(\"darkmode\", { detail: nextValue }));\n        inDarkMode = nextValue;\n    }\n}\nfunction mediaQueryCallback() {\n    const dark = localStorage.getItem(\"dark\");\n    //仅在深色模式不是用户主动设置时触发\n    if (!dark) {\n        if (mediaQuery.matches && mashiro_option.darkmode) {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n}\nif (mashiro_option.dm_strategy === 'client') {\n    mediaQuery.removeEventListener('change', mediaQueryCallback);\n    mediaQuery.addEventListener('change', mediaQueryCallback);\n}\nfunction saveUserSetting(value) {\n    if (value == ifDarkmodeShouldOn()) {\n        //用户设置与自动切换深色模式判断一致时，恢复自动切换\n        localStorage.removeItem('dark');\n    }\n    else {\n        if (value == true) {\n            localStorage.setItem(\"dark\", \"1\");\n        }\n        else {\n            localStorage.setItem(\"dark\", \"0\");\n        }\n    }\n    //localStorage.setItem(\"bgImgSetting\", \"white-bg\");\n}\nexport function turnOnDarkMode(userTriggered) {\n    document.documentElement.style.background = \"#333\";\n    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"#333\";\n    document.body.classList.add(\"dark\");\n    if (userTriggered)\n        saveUserSetting(true);\n    informDarkModeChange(true);\n}\nexport function turnOffDarkMode(userTriggered) {\n    document.documentElement.style.background = \"unset\";\n    document.getElementsByClassName(\"site-content\")[0].style.backgroundColor = \"rgba(255, 255, 255, .8)\";\n    document.body.classList.remove(\"dark\");\n    document.body.classList.remove(\"dynamic\");\n    informDarkModeChange(false);\n    if (userTriggered) {\n        saveUserSetting(false);\n        //document.body.style.backgroundImage = `url(${mashiro_option.skin_bg0})`;\n    }\n}\n/**\n * 检查是否在深色模式时间\n * @returns {boolean}\n */\nfunction checkTime() {\n    const today = new Date();\n    return (today.getHours() > 21 || today.getHours() < 7);\n}\nexport function ifDarkmodeShouldOn() {\n    switch (mashiro_option.dm_strategy) {\n        case 'time':\n            return checkTime();\n        case 'client':\n            return mediaQuery.matches;\n        case 'eien':\n            return true;\n        default:\n            return checkTime();\n    }\n}\nexport function checkDarkModeSetting() {\n    const dark = localStorage.getItem(\"dark\");\n    if (!dark) {\n        //无用户设置时，自动切换深色模式\n        if (ifDarkmodeShouldOn() && mashiro_option.darkmode) {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n    else {\n        if (dark == '1') {\n            turnOnDarkMode();\n        }\n        else {\n            turnOffDarkMode();\n        }\n    }\n}\n/* function mobile_dark_light() {\n    if (document.body.classList.contains(\"dark\")) {\n        document.documentElement.style.background = \"unset\";\n        document.body.classList.remove(\"dark\");\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-moon-o\" aria-hidden=\"true\"></i>';\n        setCookie(\"dark\", \"0\", 0.33);\n    } else {\n        document.documentElement.style.background = \"#333333\";\n        document.getElementById(\"moblieDarkLight\").innerHTML = '<i class=\"fa fa-sun-o\" aria-hidden=\"true\"></i>';\n        document.body.classList.add(\"dark\");\n        setCookie(\"dark\", \"1\", 0.33);\n    }\n} */ \n","/**\n * app.js - Client script bundle for Sakurairo, a WordPress theme.\n * @author bymoye\n * @author KotoriK\n * @license GPL-v2\n * Github Repository:\n * https://github.com/Fuukei/Sakurairo_Scripts\n * https://github.com/mirai-mamori/Sakurairo source from f7db3c5 \n * \n * modified from Mashiro's work.\n * *** original header ***\n * Sakura theme application bundle\n * @author Mashiro\n * @url https://2heng.xin\n * @date 2019.8.3\n * *** ***\n */\nimport { nextBG, preBG, initCoverBG, getAPIPath } from './coverBackground'\nimport buildAPI from './api'\nimport { setCookie, } from '../../module/cookie'\nimport add_copyright from './copyright'\nimport addComment from './AddComment'\nimport {  createButterbar } from './butterbar'\nimport { loadCSS } from 'fg-loadcss'\nimport { lazyload } from 'lazyload'\nimport './global-func'\nimport {onlyOnceATime,min} from '../../module/util'\nconst pjax = (() => {\n    //检查是否应当开启Poi.pjax\n    const UA = navigator.userAgent\n    const version_list = { Firefox: 84, Edg: 88, Chrome: 88, Opera: 74, Version: 9 };\n    const reg = UA.indexOf('Chrome') != -1 ? /(Chrome)\\/(\\d+)/i : /(Firefox|Chrome|Version|Opera)\\/(\\d+)/i\n    const version = UA.match(reg);\n    Poi.pjax = version && (parseInt(version[2]) >= version_list[version[1]]) && Poi.pjax;\n    if (document.createElement('canvas').toDataURL('image/webp').indexOf('data:image/webp') === 0)\n        setCookie('su_webp', '1', 114514)\n\n    return Poi.pjax && import('pjax').then(({ default: Pjax }) =>\n        new Pjax({\n            selectors: [\"#page\", \"title\", \".footer-device\",\n                /**mashiro_option */\n                \"#_mashiro_\"],\n            elements: [\n                \"a:not([target='_top']):not(.comment-reply-link):not(#pagination a):not(#comments-navi a):not(.user-menu-option a):not(.header-user-avatar a):not(.emoji-item):not(.no-pjax)\",\n                \".search-form\",\n                \".s-search\",\n            ],\n            timeout: 8000,\n            history: true,\n            cacheBust: false,\n        })\n    )\n})()\nconst ready = function (fn) {\n    if (document.readyState === 'complete') {\n        return fn();\n    }\n    document.addEventListener('DOMContentLoaded', fn, false);\n};\n\nmashiro_global.variables = new function () {\n    this.has_hls = false;\n    this.skinSecter = true;\n}\nmashiro_global.ini = new function () {\n    this.normalize = function () { // initial functions when page first load (首次加载页面时的初始化函数)\n        lazyload();\n        post_list_show_animation();\n        copy_code_block();\n        web_audio();\n        coverVideoIni();\n        checkSkinSecter();\n        scrollBar();\n        load_bangumi();\n        sm();\n    }\n    this.pjax = function () { // pjax reload functions (pjax 重载函数)\n        pjaxInit();\n        post_list_show_animation();\n        copy_code_block();\n        web_audio();\n        coverVideoIni();\n        checkSkinSecter();\n        load_bangumi();\n        sm();\n    }\n}\n\n/**code highlight */\n\nconst code_highlight_style = (() => {\n    function gen_top_bar(pre, code_a) {\n        const attributes = {\n            'autocomplete': 'off',\n            'autocorrect': 'off',\n            'autocapitalize': 'off',\n            'spellcheck': 'false',\n            'contenteditable': 'false',\n            'design': 'by Mashiro'\n        }\n        if (!pre.children[0]) return\n        const ele_name = pre.children[0].className\n        let lang = ele_name.substr(0, ele_name.indexOf(\" \")).replace('language-', '')\n        if (lang.toLowerCase() == \"hljs\") lang = code_a.className.replace('hljs', '') ? code_a.className.replace('hljs', '') : \"text\";\n        pre.classList.add(\"highlight-wrap\");\n        for (const t in attributes) {\n            pre.setAttribute(t, attributes[t]);\n        }\n        code_a.setAttribute('data-rel', lang.toUpperCase());\n    }\n    async function importHighlightjs() {\n        try {\n            if (!window.hljs) {\n                window.hljs = await import('highlight.js')\n                await import('highlightjs-line-numbers.js')\n            }\n        } catch (e) { console.warn(e) }\n    }\n    async function hljs_process(pre, code) {\n        try {\n            await importHighlightjs()\n            for (let i = 0; i < code.length; i++) {\n                hljs.highlightBlock(code[i]);\n            }\n            for (let i = 0; i < pre.length; i++) {\n                gen_top_bar(pre[i], code[i]);\n            }\n            hljs.initLineNumbersOnLoad();\n            const ec = document.querySelector(\".entry-content\");\n            ec && ec.addEventListener(\"click\", function (e) {\n                //类型问题\n                //可以考虑换成 ec\n                if (!e.target.classList.contains(\"highlight-wrap\")) return;\n                e.target.classList.toggle(\"code-block-fullscreen\");\n                document.documentElement.classList.toggle('code-block-fullscreen-html-scroll');\n            })\n        } catch (e) {\n            console.warn(e)\n        }\n    }\n    const PrismBaseUrl = mashiro_option.code_highlight_prism?.autoload_path ?? 'https://cdn.jsdelivr.net/npm/prismjs@1.23.0/'\n    let current_prism_css = undefined\n    const themeCSS = (() => {\n        const { light, dark } = mashiro_option.code_highlight_prism?.theme ?? {}\n        const theme = {\n            light: light ?? 'themes/prism.min.css',\n            dark: dark ?? 'themes/prism-tomorrow.min.css',\n        }\n        for (const theme_name in theme) {\n            theme[theme_name] = new URL(theme[theme_name], PrismBaseUrl).toString()\n        }\n        return theme\n    })()\n    function loadPrismCSS(darkmodeOn) {\n        const nextCSS = darkmodeOn ? themeCSS.dark : themeCSS.light\n        if (current_prism_css) {\n            if (current_prism_css.href !== nextCSS) {\n                const nextCSSElement = loadCSS(nextCSS)\n                nextCSSElement.addEventListener('load', () => {\n                    current_prism_css.remove()\n                    current_prism_css = nextCSSElement\n                })\n            }\n        } else {\n            current_prism_css = loadCSS(nextCSS)\n        }\n    }\n    async function importPrismJS() {\n        try {\n            if (!window.Prism) {\n                const { default: Prism } = await import('prismjs')\n                window.Prism = Prism\n            }\n            //必备插件全家桶\n            loadCSS(new URL('plugins/toolbar/prism-toolbar.min.css', PrismBaseUrl).toString())\n            loadCSS(new URL('plugins/previewers/prism-previewers.min.css', PrismBaseUrl).toString())\n            loadPrismCSS(isInDarkMode())\n            document.addEventListener('darkmode', (e) => {\n                loadPrismCSS(e.detail)\n            })\n            await Promise.all([\n                import('prismjs/plugins/autoloader/prism-autoloader'),\n                import('prismjs/plugins/previewers/prism-previewers'),\n                import('prismjs/plugins/toolbar/prism-toolbar')\n                    .then(() => import('prismjs/plugins/show-language/prism-show-language'))\n            ])\n            Prism.plugins.autoloader.languages_path = new URL('components/', PrismBaseUrl).toString()\n        } catch (reason) {\n            console.warn(reason)\n        }\n    }\n    function loadPrismPluginLineNumbers() {\n        loadCSS(new URL('plugins/line-numbers/prism-line-numbers.min.css', PrismBaseUrl).toString())\n        return import('prismjs/plugins/line-numbers/prism-line-numbers')\n    }\n    /**\n     * \n     * @param {NodeListOf<HTMLElement>} code document.querySelectorAll(\"pre code\")\n     */\n    async function prism_process(code) {\n        try {\n            await importPrismJS()\n            if (mashiro_option.code_highlight_prism.line_number_all) {\n                document.querySelector('.entry-content').classList.add('line-numbers')\n                await loadPrismPluginLineNumbers()\n            }\n            code.forEach(async ele => {\n                if (ele.parentElement.classList.contains('line-numbers')) {\n                    await loadPrismPluginLineNumbers()\n                }\n                if (ele.classList.contains('match-braces')) {\n                    await import('prismjs/plugins/match-braces/prism-match-braces')\n                    loadCSS(new URL('plugins/match-braces/prism-match-braces.min.css', PrismBaseUrl).toString())\n                }\n                Prism.highlightElement(ele)\n            })\n            Prism.plugins.fileHighlight && Prism.plugins.fileHighlight.highlight()\n        } catch (error) {\n            console.warn(error)\n        }\n    }\n\n    return async function code_highlight_style() {\n        //hljs.requireLanguage('javascript',await import('highlight.js/lib/languages/javascript'))\n        const pre = document.getElementsByTagName(\"pre\"),\n            code = document.querySelectorAll(\"pre code\");\n        if (!pre.length) return;\n        switch (mashiro_option.code_highlight) {\n            case 'hljs':\n                return hljs_process(pre, code)\n            case 'prism':\n                return prism_process(code)\n            case 'custom': return\n            default:\n                console.warn(`mashiro_option.code_highlight这咋填的是个${mashiro_option.code_highlight}啊🤔`)\n        }\n    }\n})()\n\nfunction slideToggle(el, duration = 1000, mode = '', callback) {\n    let dom = el;\n    dom.status = dom.status || getComputedStyle(dom, null)['display'];\n    const flag = dom.status != 'none';\n    if ((flag == true && mode == \"show\") || (flag == false && mode == \"hide\")) return;\n    dom.status = flag ? 'none' : 'block';\n    dom.style.transition = 'height ' + duration / 1000 + 's';\n    dom.style.overflow = 'hidden';\n    clearTimeout(dom.tagTimer);\n    dom.tagTimer = dom.tagTimer || null;\n    dom.style.display = 'block';\n    dom.tagHeight = dom.tagHeight || dom.clientHeight + 'px';\n    dom.style.display = '';\n    dom.style.height = flag ? dom.tagHeight : \"0px\";\n    setTimeout(() => {\n        dom.style.height = flag ? \"0px\" : dom.tagHeight\n    }, 0);\n    dom.tagTimer = setTimeout(() => {\n        dom.style.display = flag ? 'none' : 'block';\n        dom.style.transition = '';\n        dom.style.overflow = '';\n        dom.style.height = '';\n        dom.status = dom.tagHeight = null;\n    }, duration);\n    if (callback) callback();\n}\n\nfunction post_list_show_animation() {\n    if (document.querySelector('article') && document.querySelector('article').classList.contains(\"post-list-thumb\")) {\n        const options = {\n            root: null,\n            threshold: [0.66]\n        },\n            callback = (entries) => {\n                entries.forEach((article) => {\n                    if (!window.IntersectionObserver) {\n                        article.target.style.willChange = 'auto';\n                        if (article.target.classList.contains(\"post-list-show\") === false) {\n                            article.target.classList.add(\"post-list-show\");\n                        }\n                    } else {\n                        if (article.target.classList.contains(\"post-list-show\")) {\n                            article.target.style.willChange = 'auto';\n                            io.unobserve(article.target)\n                        } else {\n                            if (article.isIntersecting) {\n                                article.target.classList.add(\"post-list-show\");\n                                article.target.style.willChange = 'auto';\n                                io.unobserve(article.target)\n                            }\n                        }\n                    }\n                })\n            },\n            io = new IntersectionObserver(callback, options),\n            articles = document.getElementsByClassName('post-list-thumb');\n        for (let a = 0; a < articles.length; a++) {\n            io.observe(articles[a]);\n        }\n    }\n}\nimport {initFontControl,loadFontSetting} from './font_control'\nready(initFontControl)\n\ncode_highlight_style();\n/**\n * 上传图片提示\n */\nfunction attach_image() {\n    let cached = document.getElementsByClassName(\"insert-image-tips\")[0],\n        upload_img = document.getElementById('upload-img-file');\n    if (!upload_img) return;\n    upload_img.addEventListener(\"change\", (function () {\n        if (this.files.length > 10) {\n            createButterbar(\"每次上传上限为10张.<br>10 files max per request.\");\n            return 0;\n        }\n        for (let i = 0; i < this.files.length; i++) {\n            if (this.files[i].size >= 5242880) {\n                alert('图片上传大小限制为5 MB.\\n5 MB max per file.\\n\\n「' + this.files[i].name + '」\\n\\n这张图太大啦~请重新上传噢！\\nThis image is too large~Please reupload!');\n                return;\n            }\n        }\n        for (let i = 0; i < this.files.length; i++) {\n            let f = this.files[i],\n                formData = new FormData(),\n                xhr = new XMLHttpRequest();\n            formData.append('cmt_img_file', f);\n            xhr.addEventListener('loadstart', function () {\n                cached.innerHTML = '<i class=\"fa fa-spinner rotating\" aria-hidden=\"true\"></i>';\n                createButterbar(\"上传中...<br>Uploading...\");\n            });\n            xhr.open(\"POST\", buildAPI(Poi.api + 'sakura/v1/image/upload'), true);\n            xhr.send(formData);\n            xhr.onreadystatechange = function () {\n                if (xhr.readyState == 4 && (xhr.status == 200 || xhr.status == 304)) {\n                    cached.innerHTML = '<i class=\"fa fa-check\" aria-hidden=\"true\"></i>';\n                    setTimeout(function () {\n                        cached.innerHTML = '<i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i>';\n                    }, 1000);\n                    let res = JSON.parse(xhr.responseText);\n                    if (res.status == 200) {\n                        let get_the_url = res.proxy;\n                        document.getElementById(\"upload-img-show\").insertAdjacentHTML('afterend', '<img class=\"lazyload upload-image-preview\" src=\"https://cdn.jsdelivr.net/gh/Fuukei/Public_Repository@latest/vision/theme/colorful/load/inload.svg\" data-src=\"' + get_the_url + '\" onclick=\"window.open(\\'' + get_the_url + '\\')\" onerror=\"imgError(this)\" />');\n                        lazyload();\n                        createButterbar(\"图片上传成功~<br>Uploaded successfully~\");\n                        grin(get_the_url, type = 'Img');\n                    } else {\n                        createButterbar(\"上传失败！<br>Uploaded failed!<br> 文件名/Filename: \" + f.name + \"<br>code: \" + res.status + \"<br>\" + res.message, 3000);\n                    }\n                } else if (xhr.readyState == 4) {\n                    cached.innerHTML = '<i class=\"fa fa-times\" aria-hidden=\"true\" style=\"color:red\"></i>';\n                    alert(\"上传失败，请重试.\\nUpload failed, please try again.\");\n                    setTimeout(function () {\n                        cached.innerHTML = '<i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i>';\n                    }, 1000);\n                }\n            }\n        };\n    }));\n}\n\n\nfunction clean_upload_images() {\n    document.getElementById(\"upload-img-show\").innerHTML = '';\n}\n/**\n * 添加上传图片的提示\n */\nfunction add_upload_tips() {\n    const form_submit = document.querySelector('.form-submit #submit');\n    if (form_submit == null) return;\n    if (!mashiro_option.comment_upload_img) {\n        form_submit.style.width = '100%'\n        return\n    }\n    form_submit.insertAdjacentHTML('afterend', '<div class=\"insert-image-tips popup\"><i class=\"fa fa-picture-o\" aria-hidden=\"true\"></i><span class=\"insert-img-popuptext\" id=\"uploadTipPopup\">上传图片</span></div><input id=\"upload-img-file\" type=\"file\" accept=\"image/*\" multiple=\"multiple\" class=\"insert-image-button\">');\n    attach_image();\n\n    const file_submit = document.getElementById('upload-img-file'),\n        hover = document.getElementsByClassName('insert-image-tips')[0],\n        Tip = document.getElementById('uploadTipPopup');\n    if (!file_submit) return;\n    file_submit.addEventListener(\"mouseenter\", function () {\n        hover.classList.toggle('insert-image-tips-hover');\n        Tip.classList.toggle('show');\n    });\n    file_submit.addEventListener(\"mouseleave\", function () {\n        hover.classList.toggle('insert-image-tips-hover');\n        Tip.classList.toggle('show');\n    });\n}\n\nfunction click_to_view_image() {\n    const comment_inline = document.getElementsByClassName('comment_inline_img');\n    if (!comment_inline.length) return;\n    document.getElementsByClassName(\"comments-main\")[0].addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"comment_inline_img\")) {\n            window.open(e.target.src);\n        }\n    })\n}\nclick_to_view_image();\n\n\nfunction original_emoji_click() {\n    const emoji = document.getElementsByClassName('emoji-item');\n    if (!emoji.length) return;\n    document.querySelector(\".menhera-container\").addEventListener(\"click\", function (e) {\n        if (e.target.classList.contains(\"emoji-item\")) {\n            grin(e.target.innerText, \"custom\", \"`\", \"` \");\n        }\n    })\n}\noriginal_emoji_click();\n\nfunction scrollBar() {\n    if (document.body.clientWidth > 860) {\n        window.addEventListener(\"scroll\", () => {\n            let s = document.documentElement.scrollTop || document.body.scrollTop,\n                a = document.documentElement.scrollHeight || document.body.scrollHeight,\n                b = window.innerHeight, c,\n                result = parseInt(s / (a - b) * 100),\n                cached = document.getElementById('bar');\n            cached.style.width = result + \"%\";\n            switch (true) {\n                case (result <= 19): c = '#cccccc'; break;\n                case (result <= 39): c = '#50bcb6'; break;\n                case (result <= 59): c = '#85c440'; break;\n                case (result <= 79): c = '#f2b63c'; break;\n                case (result <= 99): c = '#FF0000'; break;\n                case (result == 100): c = '#5aaadb'; break;\n                default: c = \"orange\";\n            }\n            cached.style.background = c;\n            let toc_container = document.querySelector(\".toc-container\"),\n                sc = document.querySelector(\".site-content\"),\n                skinMenu = document.querySelector(\".skin-menu\");\n            if (toc_container && sc) {\n                toc_container.style.height = min(sc.getBoundingClientRect()[\"height\"],document.documentElement.offsetHeight-toc_container.offsetTop) + \"px\";\n            }\n            skinMenu && skinMenu.classList.remove(\"show\");\n        })\n    }\n}\n\nfunction checkSkinSecter() {\n    if (mashiro_global.variables.skinSecter === false) {\n        const pattern = document.querySelector(\".pattern-center\"),\n            headertop = document.querySelector(\".headertop-bar\");\n        if (pattern) {\n            pattern.classList.remove(\"pattern-center\");\n            pattern.classList.add(\"pattern-center-sakura\");\n        }\n        if (headertop) {\n            headertop.classList.remove(\"headertop-bar\");\n            headertop.classList.add(\"headertop-bar-sakura\");\n        }\n    } else {\n        const pattern = document.querySelector(\".pattern-center-sakura\"),\n            headertop = document.querySelector(\".headertop-bar-sakura\");\n        if (pattern) {\n            pattern.classList.remove(\"pattern-center-sakura\");\n            pattern.classList.add(\"pattern-center\");\n        }\n        if (headertop) {\n            headertop.classList.remove(\"headertop-bar-sakura\");\n            headertop.classList.add(\"headertop-bar\");\n        }\n    }\n}\nimport { checkDarkModeSetting, turnOnDarkMode, turnOffDarkMode, isInDarkMode } from './darkmode'\nfunction no_right_click() {\n    const pri = document.getElementById(\"primary\");\n    if (pri) pri.addEventListener(\"contextmenu\", function (e) {\n        if (e.target.nodeName.toLowerCase() == \"img\") {\n            e.preventDefault();\n            e.stopPropagation();\n        }\n    })\n}\nno_right_click();\n\nfunction changeBG(bgid) {\n    //@sideeffect\n    mashiro_global.variables.skinSecter = bgid == \"white-bg\" || bgid == \"dark-bg\";\n    checkSkinSecter();\n\n    let bg_url;\n    switch (bgid) {\n        case \"white-bg\":\n            if (mashiro_option.rnd_site_bg) {\n                bg_url = getAPIPath()\n            } else {\n                bg_url = mashiro_option.skin_bg0;\n            }\n            break;\n        case \"diy1-bg\":\n            bg_url = mashiro_option.skin_bg1;\n            break;\n        case \"diy2-bg\":\n            bg_url = mashiro_option.skin_bg2;\n            break;\n        case \"diy3-bg\":\n            bg_url = mashiro_option.skin_bg3;\n            break;\n        case \"diy4-bg\":\n            bg_url = mashiro_option.skin_bg4;\n            break;\n    }\n    const now_bg_url = document.body.style.backgroundImage\n    if (now_bg_url != bg_url) {\n        if (!mashiro_option.cache_cover || !now_bg_url.match(/^url\\(\"blob:/)) {\n            document.body.style.backgroundImage = bg_url ? `url(${bg_url})` : '';\n        }\n    }\n}\nready(function () {\n    initCoverBG()\n    //let checkskin_bg = (a) => a == \"none\" ? \"\" : a;\n\n    function addChangeBackgroundListener() {\n        const cached = document.querySelectorAll(\".menu-list li\");\n        cached.forEach(e => {\n            e.addEventListener(\"click\", function () {\n                const tagid = this.id;\n                if (tagid == \"dark-bg\") {\n                    turnOnDarkMode(true)\n                } else {\n                    turnOffDarkMode(true)\n                    changeBG(tagid)\n                    localStorage.setItem(\"bgImgSetting\", tagid)\n                }\n                closeSkinMenu();\n            });\n        });\n    }\n    addChangeBackgroundListener();\n    function checkBgImgCookie() {\n        const bgurl = localStorage.getItem(\"bgImgSetting\");\n        if (bgurl) {\n            changeBG(bgurl);\n        }\n    }\n    checkBgImgCookie()\n    checkDarkModeSetting();\n    function closeSkinMenu() {\n        document.querySelector(\".skin-menu\").classList.remove(\"show\");\n        setTimeout(function () {\n            if (document.querySelector(\".changeSkin-gear\") != null) {\n                document.querySelector(\".changeSkin-gear\").style.visibility = \"visible\";\n            }\n        }, 300);\n    }\n    let changskin = document.querySelector(\"#changskin\"),\n        close_SkinMenu = document.querySelector(\".skin-menu #close-skinMenu\");\n    changskin && changskin.addEventListener(\"click\", function () {\n        document.querySelector(\".skin-menu\").classList.toggle(\"show\");\n    })\n    close_SkinMenu && close_SkinMenu.addEventListener(\"click\", function () {\n        closeSkinMenu();\n    })\n    add_upload_tips();\n});\nfunction bgButtonAddListener() {\n    const next = document.getElementById(\"bg-next\"),\n        pre = document.getElementById(\"bg-pre\");\n    if (next) { next.onclick = () => { nextBG() } };\n    if (pre) { pre.onclick = () => { preBG() } };\n}\nready(bgButtonAddListener);\n\nfunction topFunction() {\n    window.scrollTo({\n        top: 0,\n        behavior: \"smooth\"\n    });\n}\n\nfunction timeSeriesReload(flag) {\n    let archives = document.getElementById('archives');\n    if (archives == null) return;\n    let al_li = archives.getElementsByClassName('al_mon');\n    if (flag == true) {\n        archives.addEventListener(\"click\", function (e) {\n            if (e.target.classList.contains(\"al_mon\")) {\n                slideToggle(e.target.nextElementSibling, 500);\n                e.preventDefault();\n            }\n        })\n        lazyload();\n    } else {\n        (function () {\n            let al_expand_collapse = document.getElementById('al_expand_collapse');\n            al_expand_collapse.style.cursor = \"s-resize\";\n            for (let i = 0; i < al_li.length; i++) {\n                let a = al_li[i],\n                    num = a.nextElementSibling.getElementsByTagName('li').length;\n                a.style.cursor = \"s-resize\";\n                a.querySelector('#post-num').textContent = num;\n            }\n            let al_post_list = archives.getElementsByClassName(\"al_post_list\"),\n                al_post_list_f = al_post_list[0];\n            for (let i = 0; i < al_post_list.length; i++) {\n                slideToggle(al_post_list[i], 500, 'hide', function () {\n                    slideToggle(al_post_list_f, 500, 'show');\n                })\n            }\n            archives.addEventListener(\"click\", function (e) {\n                if (e.target.classList.contains(\"al_mon\")) {\n                    slideToggle(e.target.nextElementSibling, 500);\n                    e.preventDefault();\n                }\n            })\n            if (document.body.clientWidth > 860) {\n                for (let i = 0; i < al_post_list.length; i++) {\n                    let el = al_post_list[i];\n                    el.parentNode.addEventListener('mouseover', function () {\n                        slideToggle(el, 500, 'show');\n                        return false;\n                    })\n                }\n                if (false) {\n                    for (let i = 0; i < al_post_list.length; i++) {\n                        let el = al_post_list[i];\n                        el.parentNode.addEventListener('mouseover', function () {\n                            slideToggle(el, 500, 'hide');\n                            return false;\n                        })\n                    }\n                }\n                let al_expand_collapse_click = 0;\n                al_expand_collapse.addEventListener('click', function () {\n                    if (al_expand_collapse_click == 0) {\n                        for (let i = 0; i < al_post_list.length; i++) {\n                            let el = al_post_list[i];\n                            slideToggle(el, 500, 'show');\n                        };\n                        al_expand_collapse_click++;\n                    } else if (al_expand_collapse_click == 1) {\n                        for (let i = 0; i < al_post_list.length; i++) {\n                            let el = al_post_list[i];\n                            slideToggle(el, 500, 'hide');\n                        };\n                        al_expand_collapse_click--;\n                    }\n                });\n            }\n        })();\n    }\n}\n\ntimeSeriesReload();\n\nfunction loadHls() {\n    const video = document.getElementById('coverVideo'),\n        video_src = document.getElementById(\"coverVideo\").getAttribute(\"data-src\");\n    if (Hls.isSupported()) {\n        const hls = new Hls();\n        hls.loadSource(video_src);\n        hls.attachMedia(video);\n        hls.on(Hls.Events.MANIFEST_PARSED, function () {\n            video.play();\n        });\n    } else if (video.canPlayType('application/vnd.apple.mpegurl')) {\n        video.src = video_src;\n        video.addEventListener('loadedmetadata', function () {\n            video.play();\n        });\n    }\n}\n/* function loadJS(url, callback) {\n    let script = document.createElement(\"script\"),\n        fn = callback || function () { };\n    script.type = \"text/javascript\";\n    script.onload = function () {\n        fn();\n    };\n    script.src = url;\n    document.head.appendChild(script);\n} */\n\nfunction coverVideoIni() {\n    let video = document.getElementsByTagName('video')[0];\n    if (video && video.classList.contains('hls')) {\n        if (mashiro_global.variables.has_hls) {\n            loadHls();\n        } else {\n            /*             //不保证可用 需测试\n                        loadJS(\"https://cdn.jsdelivr.net/gh/mashirozx/Sakura@3.3.3/cdn/js/src/16.hls.js\", function () {\n                            loadHls();\n                            mashiro_global.variables.has_hls = true;\n                        }) */\n            import('hls.js')\n                .then(hls => {\n                    //export to GLOBAL\n                    window.Hls = hls.default\n                    loadHls();\n                    mashiro_global.variables.has_hls = true;\n                })\n                .catch(reason => console.warn('Hls load failed: ', reason))\n        }\n    }\n}\n\nfunction copy_code_block() {\n    const ele = document.querySelectorAll(\"pre code\");\n    if (ele.length > 0) {\n        for (let j = 0; j < ele.length; j++) {\n            ele[j].setAttribute('id', 'code-block-' + j);\n            ele[j].insertAdjacentHTML('afterend', '<a class=\"copy-code\" href=\"javascript:\" data-clipboard-target=\"#code-block-' + j + '\" title=\"拷贝代码\"><i class=\"fa fa-clipboard\" aria-hidden=\"true\"></i>');\n        };\n        import('clipboard').then(({ default: ClipboardJS }) => {\n            new ClipboardJS('.copy-code');\n        })\n    }\n}\n\nfunction tableOfContentScroll(flag) {\n    if (document.body.clientWidth <= 1200) {\n        return;\n    } else if (!document.querySelector(\"div.have-toc\") && !document.querySelector(\"div.has-toc\")) {\n        let ele = document.getElementsByClassName(\"toc-container\")[0];\n        if (ele) {\n            ele.remove();\n            ele = null;\n        }\n    } else {\n        if (flag) {\n            let id = 1,\n                heading_fix = mashiro_option.entry_content_theme == \"sakura\" ? (document.querySelector(\"article.type-post\") ? (document.querySelector(\"div.pattern-attachment-img\") ? -75 : 200) : 375) : window.innerHeight / 2;\n            let _els = document.querySelectorAll('.entry-content,.links');\n            for (let i = 0; i < _els.length; i++) {\n                let _el = _els[i].querySelectorAll('h1,h2,h3,h4,h5');\n                for (let j = 0; j < _el.length; j++) {\n                    _el[j].id = \"toc-head-\" + id;\n                    id++;\n                }\n            }\n            import('tocbot').then(({ default: tocbot }) => {\n                tocbot.init({\n                    tocSelector: '.toc',\n                    contentSelector: ['.entry-content', '.links'],\n                    headingSelector: 'h1, h2, h3, h4, h5',\n                    headingsOffset: heading_fix - window.innerHeight / 2,\n                });\n            })\n        }\n    }\n}\ntableOfContentScroll(true);\nconst pjaxInit = function () {\n    add_upload_tips();\n    no_right_click();\n    click_to_view_image();\n    original_emoji_click();\n    loadFontSetting()\n    let _p = document.getElementsByTagName(\"p\");\n    for (let i = 0; i < _p.length; i++) {\n        _p[i].classList.remove(\"head-copyright\");\n    }\n    try {\n        code_highlight_style();\n    } catch (e) {\n        console.warn(e)\n    };\n    try {\n        getqqinfo();\n    } catch (e) {\n        console.warn(e)\n    };\n    lazyload();\n    let _div = document.getElementsByTagName(\"div\"),\n        tla = document.getElementById(\"to-load-aplayer\");\n    tla && tla.addEventListener(\"click\", () => {\n        /* try {\n            reloadHermit();\n        } catch (e) { }; */\n        for (let i = 0; i < _div.length; i++) {\n            _div[i].classList.remove(\"load-aplayer\");\n        }\n    });\n    /* for (let i = 0; i < _div.length; i++) {\n        if (_div[i].classList.contains(\"aplayer\")) {\n            try {\n                reloadHermit();\n            } catch { };\n        }\n    } */\n    let iconflat = document.getElementsByClassName(\"iconflat\");\n    if (iconflat.length != 0) {\n        iconflat[0].style.width = '50px';\n        iconflat[0].style.height = '50px';\n    }\n    let openNav = document.getElementsByClassName(\"openNav\");\n    if (openNav.length != 0) {\n        openNav[0].style.height = '50px';\n    }\n    bgButtonAddListener()\n    smileBoxToggle();\n    timeSeriesReload();\n    add_copyright();\n    tableOfContentScroll(true);\n}\n\nfunction sm() {\n    let sm = document.getElementsByClassName('sm'),\n        cm = document.querySelector(\".comments-main\");\n    if (!sm.length) return;\n    if (Poi.reply_link_version == 'new') {\n        if (cm) cm.addEventListener(\"click\", function (e) {\n            if (e.target.classList.contains(\"comment-reply-link\")) {\n                e.preventDefault();\n                e.stopPropagation();\n                let data_commentid = e.target.getAttribute(\"data-commentid\");\n                addComment.moveForm(\"comment-\" + data_commentid, data_commentid, \"respond\", this.getAttribute(\"data-postid\"));\n            }\n        })\n    }\n    cm && cm.addEventListener(\"click\", (e) => {\n        let list = e.target.parentNode;\n        if (list.classList.contains(\"sm\")) {\n            let msg = \"您真的要设为私密吗？\";\n            if (confirm(msg) == true) {\n                if (list.classList.contains('private_now')) {\n                    alert('您之前已设过私密评论');\n                    return false;\n                } else {\n                    list.classList.add('private_now');\n                    let idp = list.getAttribute(\"data-idp\"),\n                        actionp = list.getAttribute(\"data-actionp\"),\n                        rateHolderp = list.getElementsByClassName('has_set_private')[0];\n                    let ajax_data = \"action=siren_private&p_id=\" + idp + \"&p_action=\" + actionp;\n                    let request = new XMLHttpRequest();\n                    request.onreadystatechange = function () {\n                        if (this.readyState == 4 && this.status == 200) {\n                            rateHolderp.innerHTML = request.responseText;\n                        }\n                    };\n                    request.open('POST', '/wp-admin/admin-ajax.php', true);\n                    request.setRequestHeader(\"Content-type\", \"application/x-www-form-urlencoded\");\n                    request.send(ajax_data);\n                    return false;\n                }\n            } else {\n                alert(\"已取消\");\n            }\n        }\n    })\n}\n\nlet comt = document.getElementsByClassName(\"comt-addsmilies\");\nif (comt.length > 0) {\n    Array.from(comt, (e) => {\n        e.addEventListener(\"click\", () => {\n            if (e.stlye.display == \"block\") {\n                e.style.display = \"none\";\n            } else {\n                e.style.display = \"block\";\n            }\n        })\n    })\n}\nlet comta = document.querySelectorAll(\".comt-smilies a\");\ncomta.forEach((e) => {\n    e.addEventListener(\"click\", () => {\n        e.parentNode.style.display = \"none\";\n    })\n})\nfunction smileBoxToggle() {\n    let et = document.getElementById(\"emotion-toggle\");\n    et && et.addEventListener('click', function () {\n        document.querySelector('.emotion-toggle-off').classList.toggle(\"emotion-hide\");\n        document.querySelector('.emotion-toggle-on').classList.toggle(\"emotion-show\");\n        document.querySelector('.emotion-box').classList.toggle(\"emotion-box-show\");\n    })\n}\nsmileBoxToggle();\n\nadd_copyright()\nready(() => {\n    getqqinfo();\n});\n\nif (mashiro_option.float_player_on) {\n    if (document.body.clientWidth > 860) {\n        import('./aplayer').then(({ aplayerInit }) => aplayerInit())\n    }\n}\n\nfunction getqqinfo() {\n    let is_get_by_qq = false;\n    const i_author = document.querySelector(\"input#author\"),\n        i_qq = document.querySelector(\"input#qq\"),\n        i_email = document.querySelector(\"input#email\"),\n        i_url = document.querySelector(\"input#url\"),\n        qq_check = document.querySelector(\".qq-check\"),\n        gravatar_check = document.querySelector(\".gravatar-check\"),\n        user_avatar_img = document.querySelector(\"div.comment-user-avatar img\");\n    if (i_author == null) return;\n    if (!localStorage.getItem('user_qq') && !localStorage.getItem('user_qq_email') && !localStorage.getItem('user_author')) {\n        i_qq.value = i_author.value = i_email.value = i_url.value = \"\";\n    }\n    if (localStorage.getItem('user_avatar') && localStorage.getItem('user_qq') && localStorage.getItem('user_qq_email')) {\n        user_avatar_img.setAttribute('src', localStorage.getItem('user_avatar'));\n        i_author.value = localStorage.getItem('user_author');\n        i_email.value = localStorage.getItem('user_qq') + '@qq.com';\n        i_qq.value = localStorage.getItem('user_qq');\n        if (mashiro_option.qzone_autocomplete) {\n            i_url.value = 'https://user.qzone.qq.com/' + localStorage.getItem('user_qq');\n        }\n        if (i_qq.value) {\n            qq_check.style.display = \"block\";\n            gravatar_check.style.display = \"none\";\n        }\n    }\n    let emailAddressFlag = i_email.value;\n    //var emailAddressFlag = cached.filter('#email').val();\n    i_author.addEventListener('blur', () => {\n        // })\n        //cached.filter('#author').on('blur', function () {\n        const qq = i_author.value,\n            reg_QQ = /^[1-9]\\d{4,9}$/;\n        if (reg_QQ.test(qq)) {\n            const whileFailed = () => {\n                i_qq.value = '';\n                qq_check.style.display = 'none';\n                gravatar_check.style.display = 'block';\n                user_avatar_img.setAttribute('src', get_gravatar(i_email.value, 80));\n                localStorage.setItem('user_qq', '');\n                localStorage.setItem('user_email', i_email.value);\n                localStorage.setItem('user_avatar', get_gravatar(i_email.value, 80));\n                /***/\n                /*         qq.value = email.value = url.value = \"\";\n                        if (!qq.value) {\n                            qq_check.style.display = 'none';\n                            gravatar_check.style.display = 'block';\n                            setCookie('user_qq', '', 30);\n                            user_avatar_img.setAttribute('src', get_gravatar(email.value, 80));\n                            setCookie('user_avatar', get_gravatar(email.value, 80), 30);\n                        } */\n            }\n            fetch(buildAPI(mashiro_option.qq_api_url, { qq: qq }))\n                .then(async resp => {\n                    if (resp.ok) {\n                        //success\n                        try {\n                            const data = await resp.json()\n                            i_author.value = data.name;\n                            i_email.value = qq.trim() + '@qq.com';\n                            if (mashiro_option.qzone_autocomplete) {\n                                i_url.value = 'https://user.qzone.qq.com/' + qq.trim();\n                            }\n                            user_avatar_img.setAttribute('src', 'https://q2.qlogo.cn/headimg_dl?dst_uin=' + qq + '&spec=100');\n                            is_get_by_qq = true;\n                            i_qq.value = qq.trim();\n                            if (i_qq.value) {\n                                qq_check.style.display = 'block';\n                                gravatar_check.style.display = 'none';\n                            }\n                            localStorage.setItem('user_author', data.name);\n                            localStorage.setItem('user_qq', qq);\n                            localStorage.setItem('is_user_qq', 'yes');\n                            localStorage.setItem('user_qq_email', qq + '@qq.com');\n                            localStorage.setItem('user_email', qq + '@qq.com');\n                            emailAddressFlag = i_email.value;\n                            /***/\n                            user_avatar_img.setAttribute('src', data.avatar);\n                            localStorage.setItem('user_avatar', data.avatar);\n                        } catch (e) {\n                            console.warn(e)\n                            whileFailed()\n                        }\n                    } else {\n                        whileFailed()\n                    }\n                })\n        }\n    });\n    if (localStorage.getItem('user_avatar') && localStorage.getItem('user_email') && localStorage.getItem('is_user_qq') == 'no' && !localStorage.getItem('user_qq_email')) {\n        user_avatar_img.setAttribute(\"src\", localStorage.getItem('user_avatar'));\n        i_email.value = localStorage.getItem('user_mail');\n        i_qq.value = '';\n        if (!i_qq.value) {\n            qq_check.style.display = \"none\";\n            gravatar_check.style.display = \"block\";\n        }\n        // $('div.comment-user-avatar img').attr('src', getCookie('user_avatar'));\n        // cached.filter('#email').val(getCookie('user_email'));\n        // cached.filter('#qq').val('');\n        // if (!cached.filter('#qq').val()) {\n        //     $('.qq-check').css('display', 'none');\n        //     $('.gravatar-check').css('display', 'block');\n        // }\n    }\n    i_email.addEventListener(\"blur\", function () {\n        //cached.filter('#email').on('blur', function () {\n        let emailAddress = i_email.value;\n        // var emailAddress = cached.filter('#email').val();\n        if ((is_get_by_qq == false || emailAddressFlag != emailAddress) && emailAddress != '') {\n            user_avatar_img.setAttribute(\"src\", get_gravatar(emailAddress, 80));\n            //$('div.comment-user-avatar img').attr('src', get_gravatar(emailAddress, 80));\n            localStorage.setItem('user_avatar', get_gravatar(emailAddress, 80));\n            localStorage.setItem('user_email', emailAddress);\n            localStorage.setItem('user_qq_email', '');\n            localStorage.setItem('is_user_qq', 'no');\n            i_qq.value = '';\n            // cached.filter('#qq').val('');\n            if (!i_qq.value) {\n                qq_check.style.display = \"none\";\n                gravatar_check.style.display = \"block\";\n                // $('.qq-check').css('display', 'none');\n                // $('.gravatar-check').css('display', 'block');\n            }\n        }\n    });\n    if (localStorage.getItem('user_url')) {\n        i_url.value = localStorage.getItem(\"user_url\");\n        // cached.filter('#url').val(getCookie('user_url'));\n    }\n    i_url.addEventListener(\"blur\", function () {\n        //cached.filter('#url').on('blur', function () {\n        let URL_Address = i_url.value;\n        i_url.value = URL_Address;\n        // var URL_Address = cached.filter('#url').val();\n        // cached.filter('#url').val(URL_Address);\n        localStorage.setItem('user_url', URL_Address);\n    });\n    if (localStorage.getItem('user_author')) {\n        i_author.value = localStorage.getItem('user_author');\n        // cached.filter('#author').val(getCookie('user_author'));\n    }\n    i_author.addEventListener(\"blur\", function () {\n        // cached.filter('#author').on('blur', function () {\n        let user_name = i_author.value;\n        i_author.value = user_name;\n        // var user_name = cached.filter('#author').val();\n        // cached.filter('#author').val(user_name);\n        localStorage.setItem('user_author', user_name);\n    });\n}\n\nfunction activate_widget() {\n    let secondary = document.getElementById(\"secondary\");\n    if (document.body.clientWidth > 860) {\n        let show_hide = document.querySelector(\".show-hide\");\n        show_hide && show_hide.addEventListener(\"click\", function () {\n            secondary && secondary.classList.toggle(\"active\");\n        });\n    } else {\n        secondary && secondary.remove();\n    }\n}\nsetTimeout(function () {\n    activate_widget();\n}, 100);\n\nfunction load_bangumi() {\n    const sections = document.getElementsByTagName(\"section\")\n    let _flag = false;\n    for (let i = 0; i < sections.length; i++) {\n        if (sections[i].classList.contains(\"bangumi\")) {\n            _flag = true;\n            break\n        }\n    }\n    if (_flag) {\n        document.addEventListener('click', function (e) {\n            const target = e.target;\n            if (target === document.querySelector(\"#bangumi-pagination a\")) {\n                e.preventDefault();\n                e.stopPropagation();\n                target.classList.add(\"loading\");\n                target.textContent = \"\";\n                const xhr = new XMLHttpRequest();\n                xhr.open('POST', target.href + \"&_wpnonce=\" + Poi.nonce, true);\n                xhr.onreadystatechange = function () {\n                    if (xhr.readyState == 4 && xhr.status == 200) {\n                        let html = JSON.parse(xhr.responseText),\n                            bfan = document.getElementById(\"bangumi-pagination\"),\n                            row = document.getElementsByClassName(\"row\")[0];\n                        bfan.remove();\n                        row.insertAdjacentHTML('beforeend', html);\n                    } else {\n                        target.classList.remove(\"loading\");\n                        target.innerHTML = '<i class=\"fa fa-exclamation-triangle\" aria-hidden=\"true\"></i> ERROR ';\n                    }\n                };\n                xhr.send();\n            }\n        });\n    }\n}\n\nmashiro_global.ini.normalize();\nloadCSS(mashiro_option.jsdelivr_css_src);\nloadCSS(mashiro_option.entry_content_style_src);\nloadCSS(\"https://at.alicdn.com/t/font_679578_qyt5qzzavdo39pb9.css\");\n\nfunction article_attach() {\n    //收缩、展开\n    /* jQuery(document).ready(\n    function(jQuery){\n        jQuery('.collapseButton').click(function(){\n        jQuery(this).parent().parent().find('.xContent').slideToggle('slow');\n        });\n        }) */\n    const collapseButton = document.getElementsByClassName('collapseButton')\n    if (collapseButton.length > 0) {\n        const collapseListener = (e) => {\n            slideToggle(e.target.parentNode.parentNode.parentNode.querySelector(\".xContent\"));\n            // e.parentNode.parentNode.querySelector(\".xContent\")\n        }\n        for (const ele of collapseButton) {\n            ele.addEventListener(\"click\", collapseListener)\n        }\n        // import('jquery').then(({ default: jQuery }) => {\n        //     jQuery('.collapseButton').on(\"click\", function () {\n        //         jQuery(this).parent().parent().find('.xContent').slideToggle('slow');\n        //     })\n        // })\n    }\n    //init lightbox\n    if (mashiro_option.baguetteBoxON) {\n        loadCSS('https://cdn.jsdelivr.net/npm/baguettebox.js@1.11.1/dist/baguetteBox.min.css')\n        import('baguettebox.js').then(({ default: baguetteBox }) => {\n            baguetteBox.run('.entry-content', {\n                captions: function (element) {\n                    return element.getElementsByTagName('img')[0].alt;\n                },\n                ignoreClass: 'fancybox',\n            });\n        })\n    } else if (mashiro_option.fancybox) {\n        loadCSS('https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css')\n        import('jquery').then((jQuery) => {\n            window.jQuery = jQuery.default\n            window.$ = jQuery.default\n            import('@fancyapps/fancybox')\n        })\n    }\n}\n//#region Siren\nconst s = document.getElementById(\"bgvideo\");\nfunction MN() {\n    let iconflat = document.querySelector(\".iconflat\");\n    iconflat && iconflat.addEventListener(\"click\", function () {\n        document.body.classList.toggle(\"navOpen\");\n        document.getElementById(\"main-container\").classList.toggle(\"open\");\n        document.getElementById(\"mo-nav\").classList.toggle(\"open\");\n        document.querySelector(\".openNav\").classList.toggle(\"open\");\n    });\n}\nfunction MNH() {\n    if (document.body.classList.contains(\"navOpen\")) {\n        document.body.classList.toggle(\"navOpen\");\n        document.getElementById(\"main-container\").classList.toggle(\"open\");\n        document.getElementById(\"mo-nav\").classList.toggle(\"open\");\n        document.querySelector(\".openNav\").classList.toggle(\"open\");\n    }\n}\nfunction splay() {\n    let video_btn = document.getElementById(\"video-btn\");\n    if (video_btn) {\n        video_btn.classList.add(\"video-pause\");\n        video_btn.classList.remove(\"video-play\");\n        video_btn.style.display = \"\";\n    }\n    try {\n        document.querySelector(\".video-stu\").style.bottom = \"-100px\";\n        document.querySelector(\".focusinfo\").style.top = \"-999px\";\n        if (mashiro_option.float_player_on) {\n            import('./aplayer').then(({ destroyAllAplayer }) => {\n                destroyAllAplayer()\n                s.play();\n            })\n            return\n        }\n    } catch (e) {\n        console.warn(e)\n    }\n    s.play();\n} function spause() {\n    let video_btn = document.getElementById(\"video-btn\");\n    if (video_btn) {\n        video_btn.classList.add(\"video-play\");\n        video_btn.classList.remove(\"video-pause\");\n    }\n    try {\n        document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n    } catch { }\n    s.pause();\n}\nfunction liveplay() {\n    if (s.oncanplay != undefined && document.querySelector(\".haslive\")) {\n        if (document.querySelector(\".videolive\")) {\n            splay();\n        }\n    }\n}\nfunction livepause() {\n    if (s.oncanplay != undefined && document.querySelector(\".haslive\")) {\n        spause();\n        let video_stu = document.getElementsByClassName(\"video-stu\")[0];\n        video_stu.style.bottom = \"0px\";\n        video_stu.innerHTML = \"已暂停 ...\";\n    }\n}\nfunction addsource() {\n    let video_stu = document.getElementsByClassName(\"video-stu\")[0];\n    video_stu.innerHTML = \"正在载入视频 ...\";\n    video_stu.style.bottom = \"0px\";\n    let t = Poi.movies.name.split(\",\"),\n        _t = t[Math.floor(Math.random() * t.length)],\n        bgvideo = document.getElementById(\"bgvideo\");\n    bgvideo.setAttribute(\"src\", Poi.movies.url + '/' + _t + '.mp4');\n    bgvideo.setAttribute(\"video-name\", _t);\n}\nfunction LV() {\n    let video_btn = document.getElementById(\"video-btn\");\n    if (video_btn) video_btn.addEventListener(\"click\", function () {\n        if (this.classList.contains(\"loadvideo\")) {\n            this.classList.add(\"video-pause\");\n            this.classList.remove(\"loadvideo\");\n            addsource();\n            s.oncanplay = function () {\n                splay();\n                document.getElementById(\"video-add\").style.display = \"block\";\n                video_btn.classList.add(\"videolive\", \"haslive\");\n            }\n        } else {\n            if (this.classList.contains(\"video-pause\")) {\n                spause();\n                video_btn.classList.remove(\"videolive\");\n                document.getElementsByClassName(\"video-stu\")[0].style.bottom = \"0px\";\n                document.getElementsByClassName(\"video-stu\")[0].innerHTML = \"已暂停 ...\";\n            } else {\n                splay();\n                video_btn.classList.add(\"videolive\");\n            }\n        }\n        s.onended = function () {\n            s.setAttribute(\"src\", \"\");\n            document.getElementById(\"video-add\").style.display = \"none\";\n            video_btn && video_btn.classList.add(\"loadvideo\");\n            video_btn && video_btn.classList.remove(\"video-pause\", \"videolive\", \"haslive\");\n            document.querySelector(\".focusinfo\").style.top = \"49.3%\";\n        }\n    });\n    const video_add = document.getElementById(\"video-add\")\n    if (video_add) video_add.addEventListener(\"click\", function () {\n        addsource();\n    });\n}\nfunction AH() {\n    if (mashiro_option.yiyan) {\n        const yiyan = document.getElementById(\"footer_yiyan\");\n        if (yiyan) {\n            fetch(\"https://api.maho.cc/yiyan/\")\n                .then(async res => {\n                    const data = await res.json()\n                    yiyan.innerText = data['hitokoto'] + \"——\" + data['from']\n                })\n        }\n    }\n    if (Poi.windowheight == 'auto') {\n        if (document.querySelector(\"h1.main-title\")) {\n            //let _height = document.documentElement.clientHeight + \"px\";\n            const centerbg = document.getElementById(\"centerbg\")\n            const bgvideo = document.getElementById(\"bgvideo\")\n            if (centerbg) centerbg.style.height = \"100vh\";\n            if (bgvideo) bgvideo.style.minHeight = \"100vh\";\n        }\n    } else {\n        document.querySelector(\".headertop\") && document.querySelector(\".headertop\").classList.add(\"headertop-bar\");\n    }\n}\nfunction PE() {\n    if (document.querySelector(\".headertop\")) {\n        let headertop = document.querySelector(\".headertop\"),\n            blank = document.querySelector(\".blank\");\n        if (document.querySelector(\".main-title\")) {\n            try {\n                blank.style.paddingTop = \"0px\";\n            } catch (e) { }\n            headertop.style.height = \"auto\";\n            headertop.style.display = \"\";\n            if (Poi.movies.live == 'open') liveplay();\n        } else {\n            try {\n                blank.style.paddingTop = \"75px\";\n            } catch (e) { }\n            headertop.style.height = \"0px\";\n            headertop.style.display = \"none\";\n            livepause();\n        }\n    }\n}\nfunction CE() {\n    let comments_hidden = document.querySelector(\".comments-hidden\");\n    let comments_main = document.querySelector(\".comments-main\");\n    if (comments_hidden != null) {\n        comments_hidden.style.display = \"block\";\n        comments_main.style.display = \"none\";\n        comments_hidden.addEventListener(\"click\", function () {\n            slideToggle(comments_main, 500, 'show');\n            comments_hidden.style.display = \"none\";\n        });\n    }\n    let archives = document.getElementsByClassName(\"archives\");\n    if (archives.length > 0) {\n        for (let i = 0; i < archives.length; i++) {\n            archives[i].style.display = \"none\";\n        }\n        archives[0].style.display = \"\";\n        let h3 = document.getElementById(\"archives-temp\").getElementsByTagName(\"h3\");\n        for (let i = 0; i < h3.length; i++) {\n            h3[i].addEventListener(\"click\", (e) => {\n                e.preventDefault();\n                e.stopPropagation();\n                slideToggle(e.target.nextElementSibling, 300);\n            })\n        }\n    }\n    // $('.comments-hidden').show();\n    // $('.comments-main').hide();\n    // $('.comments-hidden').click(function () {\n    //     $('.comments-main').slideDown(500);\n    //     $('.comments-hidden').hide();\n    // });\n    // $('.archives').hide();\n    // $('.archives:first').show();\n    // $('#archives-temp h3').click(function () {\n    //     $(this).next().slideToggle('fast');\n    //     return false;\n    // });\n    /*if (mashiro_option.baguetteBoxON) {\n        baguetteBox.run('.entry-content', {\n            captions: function (element) {\n                return element.getElementsByTagName('img')[0].alt;\n            },\n            ignoreClass: 'fancybox',\n        });\n    }*/\n    article_attach()\n    const callback = function () {\n        //$('.js-toggle-search').toggleClass('is-active');\n        document.getElementsByClassName('js-toggle-search')[0].classList.toggle('is-active')\n        //$('.js-search').toggleClass('is-visible');\n        document.getElementsByClassName('js-search')[0].classList.toggle('is-visible')\n        //$('html').css('overflow-y', 'hidden');\n        document.documentElement.style.overflowY = 'hidden'\n        if (mashiro_option.live_search) {\n            var QueryStorage = [];\n            search_a(buildAPI(Poi.api + \"sakura/v1/cache_search/json\"));\n\n            var otxt = document.getElementById(\"search-input\"),\n                list = document.getElementById(\"PostlistBox\"),\n                Record = list.innerHTML,\n                searchFlag = null;\n            otxt.oninput = function () {\n                if (searchFlag == null) {\n                    clearTimeout(searchFlag);\n                }\n                searchFlag = setTimeout(function () {\n                    query(QueryStorage, otxt.value, Record);\n                    div_href();\n                }, 250);\n            };\n\n            function search_a(val) {\n                if (sessionStorage.getItem('search') != null) {\n                    QueryStorage = JSON.parse(sessionStorage.getItem('search'));\n                    query(QueryStorage, document.getElementById(\"search-input\").value, Record);\n                    div_href();\n                } else {\n                    fetch(val)\n                        .then(async resp => {\n                            if (resp.ok) {\n                                const json = await resp.text()\n                                if (json != \"\") {\n                                    sessionStorage.setItem('search', json);\n                                    QueryStorage = JSON.parse(json);\n                                    query(QueryStorage, otxt.value, Record);\n                                    div_href();\n                                }\n                            } else {\n                                console.warn('HTTP ' + resp.status)\n                            }\n                        })\n                        .catch(reason => console.warn(reason))\n                }\n            }\n            /*                     if (!Object.values) Object.values = function (obj) {\n                                    if (obj !== Object(obj))\n                                        throw new TypeError('Object.values called on a non-object');\n                                    var val = [],\n                                        key;\n                                    for (key in obj) {\n                                        if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                                            val.push(obj[key]);\n                                        }\n                                    }\n                                    return val;\n                                } */\n\n            function Cx(array, query) {\n                for (let s = 0; s < query.length; s++) {\n                    if (['.', '?', '*'].indexOf(query[s]) != -1) {\n                        query = query.slice(0, s) + \"\\\\\" + query.slice(s);\n                        s++;\n                    }\n                }\n                query = query.replace(query, \"^(?=.*?\" + query + \").+$\").replace(/\\s/g, \")(?=.*?\");\n                return array.filter(\n                    v => Object.values(v).some(\n                        v => new RegExp(query + '').test(v)\n                    )\n                );\n            }\n\n            function div_href() {\n                const search_close = document.querySelector(\".search_close\")\n                const Ty = document.getElementById('Ty')\n                for (const ele of document.getElementsByClassName('ins-selectable')) {\n                    ele.addEventListener(\"click\", () => {\n                        Ty.href = ele.getAttribute('href')\n                        Ty.click()\n                        search_close.click()\n                    });\n                }\n                /* $(\".ins-selectable\").each(function () {\n                    $(this).click(function () {\n                        $(\"#Ty\").attr('href', $(this).attr('href'));\n                        $(\"#Ty\").click();\n                        $(\".search_close\").click();\n                    });\n                }); */\n            }\n\n            function search_result(keyword, link, fa, title, iconfont, comments, text) {\n                if (keyword) {\n                    var s = keyword.trim().split(\" \"),\n                        a = title.indexOf(s[s.length - 1]),\n                        b = text.indexOf(s[s.length - 1]);\n                    title = a < 60 ? title.slice(0, 80) : title.slice(a - 30, a + 30);\n                    title = title.replace(s[s.length - 1], '<mark class=\"search-keyword\"> ' + s[s.length - 1].toUpperCase() + ' </mark>');\n                    text = b < 60 ? text.slice(0, 80) : text.slice(b - 30, b + 30);\n                    text = text.replace(s[s.length - 1], '<mark class=\"search-keyword\"> ' + s[s.length - 1].toUpperCase() + ' </mark>');\n                }\n                return '<div class=\"ins-selectable ins-search-item\" href=\"' + link + '\"><header><i class=\"fa fa-' + fa + '\" aria-hidden=\"true\"></i>' + title + '<i class=\"iconfont icon-' + iconfont + '\"> ' + comments + '</i>' + '</header><p class=\"ins-search-preview\">' + text + '</p></div>';\n            }\n\n            function query(B, A, z) {\n                var x, v, s, y = \"\",\n                    w = \"\",\n                    u = \"\",\n                    r = \"\",\n                    p = \"\",\n                    F = \"\",\n                    H = \"\",\n                    G = '<section class=\"ins-section\"><header class=\"ins-section-header\">',\n                    D = \"</section>\",\n                    E = \"</header>\",\n                    C = Cx(B, A.trim());\n                for (x = 0; x < Object.keys(C).length; x++) {\n                    H = C[x];\n                    switch (v = H.type) {\n                        case \"post\":\n                            w = w + search_result(A, H.link, \"file\", H.title, \"mark\", H.comments, H.text);\n                            break;\n                        case \"tag\":\n                            p = p + search_result(\"\", H.link, \"tag\", H.title, \"none\", \"\", \"\");\n                            break;\n                        case \"category\":\n                            r = r + search_result(\"\", H.link, \"folder\", H.title, \"none\", \"\", \"\");\n                            break;\n                        case \"page\":\n                            u = u + search_result(A, H.link, \"file\", H.title, \"mark\", H.comments, H.text);\n                            break;\n                        case \"comment\":\n                            F = F + search_result(A, H.link, \"comment\", H.title, \"none\", \"\", H.text);\n                            break\n                    }\n                }\n                w && (y = y + G + \"文章\" + E + w + D), u && (y = y + G + \"页面\" + E + u + D), r && (y = y + G + \"分类\" + E + r + D), p && (y = y + G + \"标签\" + E + p + D), F && (y = y + G + \"评论\" + E + F + D), s = document.getElementById(\"PostlistBox\"), s.innerHTML = y\n            }\n        }\n    }\n    for (const ele of document.getElementsByClassName('js-toggle-search')) {\n        ele.addEventListener('click', callback);\n    }\n\n    const sc = document.querySelector(\".search_close\");\n    sc && sc.addEventListener(\"click\", function () {\n        let js_search = document.getElementsByClassName(\"js-search\")[0];\n        if (js_search.classList.contains(\"is-visible\")) {\n            document.getElementsByClassName(\"js-toggle-search\")[0].classList.toggle(\"is-active\");\n            js_search.classList.toggle(\"is-visible\");\n            document.documentElement.style.overflowY = \"unset\";\n        }\n    });\n    try {\n        let show_Nav = document.getElementById(\"show-nav\");\n        show_Nav.addEventListener(\"click\", function () {\n            if (show_Nav.classList.contains(\"showNav\")) {\n                show_Nav.classList.remove(\"showNav\");\n                show_Nav.classList.add(\"hideNav\");\n                let sln = document.querySelector(\".site-top .lower nav\");\n                sln && sln.classList.add(\"navbar\");\n            } else {\n                show_Nav.classList.remove(\"hideNav\");\n                show_Nav.classList.add(\"showNav\");\n                let sln = document.querySelector(\".site-top .lower nav\");\n                sln && sln.classList.remove(\"navbar\");\n            }\n        });\n        document.getElementById(\"loading\").addEventListener(\"click\", function () {\n            let loading = document.getElementById(\"loading\");\n            loading.classList.add(\"hide\");\n            loading.classList.remove(\"show\");\n        });\n    } catch (e) { }\n}\nfunction NH() {\n    const thresold = 0,\n        siteHeader = document.querySelector(\".site-header\")\n    window.addEventListener(\"scroll\", () => {\n        const scrollTop = document.documentElement.scrollTop || window.pageYOffset;\n        if (scrollTop > thresold) {\n            siteHeader.classList.add(\"yya\");\n        } else {\n            siteHeader.classList.remove(\"yya\");\n        }\n    })\n    //     $(window).scroll(function () {\n    //         var s = $(document).scrollTop(),\n    //             cached = $('.site-header');\n    //         if (s == h1) {\n    //             cached.removeClass('yya');\n    //         }\n    //         if (s > h1) {\n    //             cached.addClass('yya');\n    //         }\n    // });\n}\nconst load_post = onlyOnceATime(function load_post() {\n    const now_href = document.location.href\n    const pagination_a = document.querySelector('#pagination a');\n    pagination_a.classList.add(\"loading\");\n    pagination_a.innerText = \"\";\n\n    // $('#pagination a').addClass(\"loading\").text(\"\");\n    fetch(pagination_a.getAttribute(\"href\") + \"#main\")\n        .then(async resp => {\n            const text = await resp.text()\n            const parser = new DOMParser(),\n                DOM = parser.parseFromString(text, \"text/html\"),\n                result = DOM.querySelectorAll(\"#main .post\"),\n                paga = DOM.querySelector(\"#pagination a\"),\n                paga_innerText = paga && paga.innerText,\n                nextHref = paga && paga.getAttribute(\"href\"),\n                main = document.getElementById(\"main\")\n            //在进行DOM操作前检查页面是否已经变化，防止错误加载到其他页面上\n            if (now_href != document.location.href) return /**如果页面状态发生了变化，那么也应该不用理加载提示符 */\n            for (let i = 0; i < result.length; i++) {\n                main.append(result[i])\n            }\n            if (Poi.pjax) (await pjax).refresh(document.querySelector(\"#content\"));\n            //if (resp.ok) {\n            // result = $(data).find(\"#main .post\");\n            // nextHref = $(data).find(\"#pagination a\").attr(\"href\");\n            // $(\"#main\").append(result.fadeIn(500));\n            const dpga = document.querySelector(\"#pagination a\"),\n                addps = document.querySelector(\"#add_post span\");\n            if (dpga) {\n                dpga.classList.remove(\"loading\");\n                dpga.innerText = paga_innerText;\n            }\n            if (addps) {\n                addps.classList.remove(\"loading\");\n                addps.innerText = \"\";\n            }\n            // $(\"#pagination a\").removeClass(\"loading\").text(\"Previous\");\n            // $('#add_post span').removeClass(\"loading\").text(\"\");\n            lazyload();\n            post_list_show_animation();\n            if (nextHref != undefined) {\n                pagination_a.setAttribute(\"href\", nextHref);\n                // $(\"#pagination a\").attr(\"href\", nextHref);\n                //加载完成上滑\n                let tempScrollTop = document.documentElement.scrollTop || window.pageYOffset || document.body.scrollTop;;\n                // window.scrollTo(tempScrollTop);\n                // $(window).scrollTop(tempScrollTop);\n                window.scrollTo({\n                    top: tempScrollTop + 300,\n                    behavior: 'smooth'\n                })\n                // $body.animate({\n                //     scrollTop: tempScrollTop + 300\n                //\n                // }, 666)\n            } else {\n                document.getElementById(\"pagination\").innerHTML = \"<span>很高兴你翻到这里，但是真的没有了...</span>\";\n                // $(\"#pagination\").html(\"<span>很高兴你翻到这里，但是真的没有了...</span>\");\n            }\n            //}\n\n        })\n    /*  $.ajax({\n         type: \"POST\",\n         url: $('#pagination a').attr(\"href\") + \"#main\",\n         success: function (data) {\n             result = $(data).find(\"#main .post\");\n             nextHref = $(data).find(\"#pagination a\").attr(\"href\");\n             $(\"#main\").append(result.fadeIn(500));\n             $(\"#pagination a\").removeClass(\"loading\").text(\"Previous\");\n             $('#add_post span').removeClass(\"loading\").text(\"\");\n             lazyload();\n             post_list_show_animation();\n             if (nextHref != undefined) {\n                 $(\"#pagination a\").attr(\"href\", nextHref);\n                 //加载完成上滑\n                 var tempScrollTop = $(window).scrollTop();\n                 $(window).scrollTop(tempScrollTop);\n                 $body.animate({\n                     scrollTop: tempScrollTop + 300\n\n                 }, 666)\n             } else {\n                 $(\"#pagination\").html(\"<span>很高兴你翻到这里，但是真的没有了...</span>\");\n             }\n         }\n     }); */\n})\n\nfunction XLS() {\n    let load_post_timer;\n    const intersectionObserver = new IntersectionObserver(function (entries) {\n        if (entries[0].intersectionRatio <= 0) return;\n        // var page_next = $('#pagination a').attr(\"href\");\n        const _page_next = document.querySelector('#pagination a')\n        if (_page_next) {\n            const page_next = _page_next.getAttribute(\"href\"),\n                load_key = document.getElementById(\"add_post_time\");\n            if (page_next != undefined && load_key) {\n                const load_time = document.getElementById(\"add_post_time\").title;\n                if (load_time != \"233\") {\n                    console.log(\"%c 自动加载时倒计时 %c\", \"background:#9a9da2; color:#ffffff; border-radius:4px;\", \"\", \"\", load_time);\n                    load_post_timer = setTimeout(function () {\n                        load_post();\n                    }, load_time * 1000);\n                }\n            }\n        }\n    });\n    intersectionObserver.observe(\n        document.querySelector('.footer-device')\n    );\n    document.body.addEventListener(\"click\", function (e) {\n        if (e.target == document.querySelector(\"#pagination a\")) {\n            e.preventDefault();\n            e.stopPropagation();\n            clearTimeout(load_post_timer);\n            load_post();\n        }\n    })\n}\nfunction XCS() {\n    const __list = 'commentwrap';\n    const form = document.getElementById(\"commentform\")\n    if (form) {\n        let statusSubmitting = false\n        form.addEventListener('submit', function (event) {\n            event.preventDefault();\n            if (statusSubmitting) return\n            const butterBarRef = createButterbar(\"提交中(Commiting)....\", true)\n            const form = new FormData(this)\n            form.append('action', 'ajax_comment')\n            statusSubmitting = true\n            fetch(Poi.ajaxurl, {\n                method: this.attributes.method.value,\n                body: form\n            }).then(async resp => {\n                const data = await resp.text()\n                if (resp.ok) {\n                    Array.from(document.getElementsByTagName('textarea'))\n                        .forEach((e) => e.value = '')\n                    const cancel = document.getElementById('cancel-comment-reply-link'),\n                        temp = document.getElementById('wp-temp-form-div'),\n                        respond = document.getElementById(addComment.respondId),\n                        //post = document.getElementById('comment_post_ID').value,\n                        parent = document.getElementById('comment_parent').value;\n                    if (parent != '0') {\n                        //jQuery('#respond').before('<ol class=\"children\">' + data + '</ol>');\n                        document.getElementById(\"respond\").insertAdjacentHTML('beforebegin', '<ol class=\"children\">' + data + '</ol>');\n                    } else if (!document.getElementsByClassName(__list).length) {\n                        if (Poi.formpostion == 'bottom') {\n                            document.getElementById(\"respond\").insertAdjacentHTML('beforebegin', '<ol class=\"' + __list + '\">' + data + '</ol>');\n                            //jQuery('#respond').before('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        } else {\n                            document.getElementById(\"respond\").insertAdjacentHTML('afterend', '<ol class=\"' + __list + '\">' + data + '</ol>');\n                            //jQuery('#respond').after('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        }\n                    } else {\n                        if (Poi.order == 'asc') {\n                            document.getElementsByClassName(\"commentwrap\")[1].insertAdjacentHTML('beforeend', data);\n                            //jQuery('.' + __list).append(data);\n                        } else {\n                            document.getElementsByClassName(\"commentwrap\")[1].insertAdjacentHTML('afterbegin', data);\n                            //jQuery('.' + __list).prepend(data);\n                        }\n                    }\n                    createButterbar(\"提交成功(Succeed)\");\n                    lazyload();\n                    code_highlight_style();\n                    click_to_view_image();\n                    clean_upload_images();\n                    cancel.style.display = 'none';\n                    cancel.onclick = null;\n                    document.getElementById('comment_parent').value = '0';\n                    if (temp && respond) {\n                        temp.parentNode.insertBefore(respond, temp);\n                        temp.remove();\n                        //temp.parentNode.removeChild(temp)\n                    }\n                } else {\n                    createButterbar(data ?? 'HTTP' + resp.status + ':' + resp.statusText);\n                }\n            }).catch(reason => {\n                createButterbar(reason);\n            }).finally(() => {\n                butterBarRef.remove()\n                statusSubmitting = false\n            })\n            /* jQuery.ajax({\n                url: Poi.ajaxurl,\n                data: jQuery(this).serialize() + \"&action=ajax_comment\",\n                type: jQuery(this).attr('method'),\n                beforeSend: createButterbar(\"提交中(Commiting)....\"),\n                error: function (request) {\n                    var t = addComment;\n                    t.createButterbar(request.responseText);\n                },\n                success: function (data) {\n                    jQuery('textarea').each(function () {\n                        this.value = ''\n                    });\n                    var t = addComment,\n                        cancel = t.I('cancel-comment-reply-link'),\n                        temp = t.I('wp-temp-form-div'),\n                        respond = t.I(t.respondId),\n                        post = t.I('comment_post_ID').value,\n                        parent = t.I('comment_parent').value;\n                    if (parent != '0') {\n                        jQuery('#respond').before('<ol class=\"children\">' + data + '</ol>');\n                    } else if (!jQuery('.' + __list).length) {\n                        if (Poi.formpostion == 'bottom') {\n                            jQuery('#respond').before('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        } else {\n                            jQuery('#respond').after('<ol class=\"' + __list + '\">' + data + '</ol>');\n                        }\n                    } else {\n                        if (Poi.order == 'asc') {\n                            jQuery('.' + __list).append(data);\n                        } else {\n                            jQuery('.' + __list).prepend(data);\n                        }\n                    }\n                    t.createButterbar(\"提交成功(Succeed)\");\n                    lazyload();\n                    code_highlight_style();\n                    click_to_view_image();\n                    clean_upload_images();\n                    cancel.style.display = 'none';\n                    cancel.onclick = null;\n                    t.I('comment_parent').value = '0';\n                    if (temp && respond) {\n                        temp.parentNode.insertBefore(respond, temp);\n                        temp.remove();\n                        //temp.parentNode.removeChild(temp)\n                    }\n                }\n            }); */\n            return false;\n        })\n    }\n}\nfunction XCP() {\n    document.body.addEventListener('click', function (e) {\n        if (e.target.parentNode == document.getElementById(\"comments-navi\") && e.target.nodeName.toLowerCase() == \"a\") {\n            e.preventDefault();\n            e.stopPropagation();\n            let _this = e.target,\n                path = _this.pathname,\n                _xhr = new XMLHttpRequest();\n            _xhr.open(\"GET\", _this.getAttribute('href'), true);\n            _xhr.responseType = \"document\";\n            _xhr.onloadstart = () => {\n                let comments_navi = document.getElementById(\"comments-navi\"),\n                    commentwrap = document.querySelector(\"ul.commentwrap\"),\n                    loading_comments = document.getElementById(\"loading-comments\"),\n                    comments_list = document.getElementById(\"comments-list-title\");\n                comments_navi.remove();\n                commentwrap.remove();\n                //comments_navi.parentNode.removeChild(comments_navi);\n                //commentwrap.parentNode.removeChild(commentwrap);\n                loading_comments.style.display = \"block\";\n                slideToggle(loading_comments, 500, \"show\");\n                window.scrollTo({\n                    top: comments_list.getBoundingClientRect().top + window.pageYOffset - comments_list.clientTop - 65,\n                    behavior: \"smooth\"\n                });\n            }\n            _xhr.onreadystatechange = function () {\n                if (_xhr.readyState == 4 && _xhr.status == 200) {\n                    let json = _xhr.response,\n                        result = json.querySelector(\"ul.commentwrap\"),\n                        nextlink = json.getElementById(\"comments-navi\"),\n                        loading_comments = document.getElementById(\"loading-comments\");\n                    slideToggle(loading_comments, 200, \"hide\");\n                    document.getElementById(\"loading-comments\").insertAdjacentHTML('afterend', result.outerHTML);\n                    document.querySelector(\"ul.commentwrap\").insertAdjacentHTML('afterend', nextlink.outerHTML);\n                    lazyload();\n                    if (window.gtag) {\n                        gtag('config', Poi.google_analytics_id, {\n                            'page_path': path\n                        });\n                    }\n                    code_highlight_style();\n                    click_to_view_image();\n                    let commentwrap = document.querySelector(\"ul.commentwrap\");\n                    window.scrollTo({\n                        top: commentwrap && (commentwrap.getBoundingClientRect().top + window.pageYOffset - commentwrap.clientTop - 200),\n                        behavior: \"smooth\"\n                    });\n                }\n            }\n            _xhr.send();\n        }\n    });\n}\nasync function IA() {\n    const POWERMODE = (await import('activate-power-mode')).default\n    POWERMODE.colorful = true;\n    POWERMODE.shake = false;\n    document.body.addEventListener('input', POWERMODE)\n}\nfunction GT() {\n    let mb_to_top = document.querySelector(\"#moblieGoTop\"),\n        changskin = document.querySelector(\"#changskin\");\n    window.addEventListener(\"scroll\", () => {\n        let scroll = document.documentElement.scrollTop || document.body.scrollTop;\n        if (scroll > 20) {\n            mb_to_top.style.transform = \"scale(1)\";\n            changskin.style.transform = \"scale(1)\";\n        } else {\n            mb_to_top.style.transform = \"scale(0)\";\n            changskin.style.transform = \"scale(0)\";\n        }\n    })\n    mb_to_top.onclick = function () {\n        topFunction();\n    }\n}\n\n\n//#endregion Siren\nif (Poi.pjax) {\n    document.addEventListener(\"pjax:send\", () => {\n        for (const element of document.getElementsByClassName(\"normal-cover-video\")) {\n            element.pause();\n            element.src = '';\n            element.load = '';\n        }\n        document.getElementById(\"bar\").style.width = \"0%\";\n        if (mashiro_option.NProgressON) import('nprogress').then(({ default: NProgress }) => { NProgress.start() })\n        MNH();\n    });\n    document.addEventListener(\"pjax:complete\", function () {\n        AH();\n        PE();\n        CE();\n        if (mashiro_option.land_at_home) XLS();\n        if (mashiro_option.NProgressON) import('nprogress').then(({ default: NProgress }) => { NProgress.done() })\n        mashiro_global.ini.pjax();\n        let loading = document.getElementById(\"loading\");\n        if (loading) {\n            loading.classList.add(\"hide\");\n            loading.classList.remove(\"show\");\n        }\n        //未实际使用的选项\n        /* if (Poi.codelamp == 'open') {\n            self.Prism.highlightAll(event)\n        }; */\n        if (document.querySelector(\".js-search.is-visible\")) {\n            document.getElementsByClassName(\"js-toggle-search\")[0].classList.toggle(\"is-active\");\n            document.getElementsByClassName(\"js-search\")[0].classList.toggle(\"is-visible\");\n            document.documentElement.style.overflowY = \"unset\";\n        }\n    });\n    document.addEventListener(\"pjax:success\", function () {\n        if (window.gtag) {\n            gtag('config', Poi.google_analytics_id, {\n                'page_path': window.location.pathname\n            });\n        }\n    });\n    document.addEventListener(\"pjax:error\", (e) => {\n        createButterbar('文章加载出错了 HTTP ' + e.request.status)\n    })\n    window.addEventListener('popstate', function (e) {\n        AH();\n        PE();\n        CE();\n        sm();\n        timeSeriesReload(true);\n        post_list_show_animation();\n    }, false);\n}\nready(function () {\n    AH();\n    PE();\n    NH();\n    GT();\n    XLS();\n    XCS();\n    XCP();\n    CE();\n    MN();\n    IA();\n    LV();\n    console.log(\"%c Mashiro %c\", \"background:#24272A; color:#ffffff\", \"\", \"https://2heng.xin/\");\n    console.log(\"%c Github %c\", \"background:#24272A; color:#ffffff\", \"\", \"https://github.com/mashirozx\");\n});\nlet isWebkit = navigator.userAgent.toLowerCase().indexOf('webkit') > -1,\n    isOpera = navigator.userAgent.toLowerCase().indexOf('opera') > -1,\n    isIe = navigator.userAgent.toLowerCase().indexOf('msie') > -1;\nif ((isWebkit || isOpera || isIe) && document.getElementById && window.addEventListener) {\n    window.addEventListener('hashchange', function () {\n        let id = location.hash.substring(1),\n            element;\n        if (!(/^[A-z0-9_-]+$/.test(id))) {\n            return;\n        }\n        element = document.getElementById(id);\n        if (element) {\n            if (!(/^(?:a|select|input|button|textarea)$/i.test(element.tagName))) {\n                element.tabIndex = -1;\n            }\n            element.focus();\n        }\n    }, false);\n}\n\nfunction web_audio() {\n    if (mashiro_option.audio) {\n        ready(() => {\n            window.AudioContext = window.AudioContext || window.webkitAudioContext,\n                function () {\n                    if (window.AudioContext) {\n                        let ctx = new AudioContext,\n                            t = \"880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 659 698 659 698 1046 659 1046 1046 1046 987 698 698 987 987 880 987 1046 987 1046 1318 987 659 659 880 784 880 1046 784 659 698 1046 987 1046 1174 1174 1174 1046 1046 880 987 784 880 1046 1174 1318 1174 1318 1567 1046 987 1046 1318 1318 1174 784 784 880 1046 987 1174 1046 784 784 1396 1318 1174 659 1318 1046 1318 1760 1567 1567 1318 1174 1046 1046 1174 1046 1174 1567 1318 1318 1760 1567 1318 1174 1046 1046 1174 1046 1174 987 880 880 987 880\".split(\" \"),//天空之城\n                            /*t = \"329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 329.628 293.665 293.665 329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 293.665 261.626 261.626 293.665 293.665 329.628 261.626 293.665 329.628 349.228 329.628 261.626 293.665 329.628 349.228 329.628 293.665 261.626 293.665 195.998 329.628 329.628 349.228 391.995 391.995 349.228 329.628 293.665 261.626 261.626 293.665 329.628 293.665 261.626 261.626\".split(\" \"),欢乐颂*/\n                            i = 0,\n                            o = 1,\n                            dom,\n                            a = \"♪ ♩ ♫ ♬ ♭ € § ¶ ♯\".split(\" \"),\n                            selects = document.querySelectorAll(\".site-title, #moblieGoTop, .site-branding, .searchbox, .changeSkin-gear, .menu-list li\");\n                        selects.forEach((select) => {\n                            select.addEventListener(\"mouseenter\", (e) => {\n                                if (dom) return;\n                                let r = t[i]\n                                if (!r) {\n                                    (i = 0, r = t[i])\n                                }\n                                i += o\n                                const c = ctx.createOscillator(),\n                                    l = ctx.createGain();\n                                c.connect(l)\n                                l.connect(ctx.destination)\n                                c.type = \"sine\"\n                                c.frequency.value = r\n                                l.gain.setValueAtTime(0, ctx.currentTime)\n                                l.gain.linearRampToValueAtTime(1, ctx.currentTime + .01)\n                                c.start(ctx.currentTime)\n                                l.gain.exponentialRampToValueAtTime(.001, ctx.currentTime + 1)\n                                c.stop(ctx.currentTime + 1)\n                                const d = Math.round(7 * Math.random());\n                                const h = e.pageX\n                                const p = e.pageY - 5\n                                dom = document.createElement(\"b\");\n                                dom.textContent = a[d]\n                                dom.style.zIndex = \"99999\";\n                                dom.style.top = p - 100 + \"px\";\n                                dom.style.left = h + \"px\";\n                                dom.style.position = \"absolute\";\n                                dom.style.color = \"#FF6EB4\";\n                                document.body.appendChild(dom);\n                                dom.animate([\n                                    { top: p + \"px\" },\n                                    { opacity: 0 }\n                                ], {\n                                    duration: 500\n                                })\n                                setTimeout(() => {\n                                    dom.remove();\n                                    dom = null;\n                                }, 500)\n                                e.stopPropagation();\n\n                            })\n                        })\n                    }\n                }()\n        })\n    }\n}\nconst preload = document.getElementById(\"preload\");\nif (preload) {\n    window.addEventListener('load', () => {\n        document.documentElement.style.overflowY = 'unset';\n        if (mashiro_option.preload_blur != 0) {\n            try {\n                preload.animate(\n                    [\n                        { filter: \"blur(0px)\", backdropFilter: \"blur(10px)\", opacity: 1 },\n                        { backdropFilter: \"blur(0px)grayscale(0)\", opacity: 0.1 },\n                        { opacity: 0, filter: \"blur(100px)\", }\n                    ],\n                    { duration: mashiro_option.preload_blur, fill: \"forwards\", easing: \"ease\" }\n                ).onfinish = () => {\n                    preload.remove()\n                }\n                return\n            } catch (error) {\n                console.warn(error)\n            }\n        }\n        preload.classList.add('hide');\n        preload.classList.remove('show');\n        setTimeout(() => preload.remove(), 233);\n    })\n}","export const onlyOnceATime = (func) => {\n    let isRunning = false;\n    return (...args) => {\n        if (!isRunning) {\n            isRunning = true;\n            try {\n                const result = func(...args);\n                if (result instanceof Promise) {\n                    result.finally(() => isRunning = false);\n                }\n                else {\n                    isRunning = false;\n                }\n                return result;\n            }\n            catch (e) {\n                console.warn(e);\n                isRunning = false;\n            }\n        }\n    };\n};\nexport const max = (a, b) => a > b ? a : b;\nexport const min = (a, b) => a < b ? a : b;\n"],"sourceRoot":""}